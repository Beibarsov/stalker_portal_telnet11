/*! stb-app: v1.0.6 (webpack: v1.13.0) */
!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var s=i(4),n=i(6);s.addListeners({load:function(){function t(t){window.parent!==window&&s.show(),l.navigate("pageMain",{currentLocation:t})}var e,a,o,r,c=i(33),l=i(5),d=i(7),h=i(19),u=n.appLoadDelay,p=!1;s.environment={};try{s.environment=JSON.parse(gSTB.GetEnv('{"varList": ["Image_Desc", "language", "weather_conf"]}')).result}catch(m){}try{a=gSTB.LoadUserData(n.fileName),s.userStore=a?JSON.parse(a):null}catch(m){}gSTB.EnableVKButton(!0),stbWindowMgr.SetVirtualKeyboardCoord("bottom"),r=function(t){d.load({name:"",address:"",lat:0,lon:0},t)},o=function(t){h.load({name:core.environment.language||"en"},function(){t(null,null)})},l.init([i(17)]),e=setTimeout(function(){p=!0,t(null)},u),c([r,o],function(i,s){p||(clearTimeout(e),t(s[0]))})},done:function(){}})},function(t,e,i){"use strict";function s(t){var e,i=this;if(t=t||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!t.propagate,n.call(this,t.data),this.$node=t.$node||document.createElement("div"),this.$body=t.$body||this.$node,this.$node.className+=" component "+(t.className||""),this.id=t.id||this.$node.id||"cid"+o++,t.parent&&t.parent.add(this),t.visible===!1&&this.hide(),t.focusable===!1&&(this.focusable=!1),this.defaultEvents){t.events=t.events||{};for(e in this.defaultEvents)t.events[e]=t.events[e]||this.defaultEvents[e]}t.events&&this.addListeners(t.events),t.children&&this.add.apply(this,t.children),this.$node.addEventListener("click",function(t){0===t.button&&(i.focus(),i.events.click&&i.emit("click",{event:t})),t.stopPropagation()})}var n=i(3),a=i(5),o=0;s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.defaultEvents=null,s.prototype.add=function(t){var e;for(e=0;e<arguments.length;e++)t=arguments[e],this.children.push(t),t.parent=this,t.$node&&null===t.$node.parentNode&&this.$body.appendChild(t.$node),this.events.add&&this.emit("add",{item:t})},s.prototype.remove=function(){this.parent&&(a.current.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(t){t.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.events.remove&&this.emit("remove")},s.prototype.focus=function(t){var e=a.current,i=e.activeComponent;return this.focusable&&this!==i?(i&&i.blur(),e.activeComponent=i=this,i.$node.classList.add("focus"),i.events.focus&&i.emit("focus",t),!0):!1},s.prototype.blur=function(){var t=a.current,e=t.activeComponent;return this.$node.classList.remove("focus"),this===e?(t.activeComponent=null,this.events.blur&&this.emit("blur"),!0):!1},s.prototype.show=function(t){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.events.show&&this.emit("show",t),!0)},s.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.events.hide&&this.emit("hide"),!0):!0},t.exports=s},function(t,e){"use strict";t.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(t,e,i){"use strict";function s(){this.events={}}s.prototype={addListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},once:function(t,e){var i=this;this.events[t]=this.events[t]||[],this.events[t].push(function s(){e.apply(this,arguments),i.removeListener(t,s)})},addListeners:function(t){var e;if("object"==typeof t)for(e in t)t.hasOwnProperty(e)&&this.addListener(e,t[e])},removeListener:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}),0===this.events[t].length&&(this.events[t]=void 0))},removeAllListeners:function(t){0===arguments.length?this.events={}:t&&(this.events[t]=void 0)},emit:function(t,e,i){var s,n=this.events[t];if(n)for(s=0;s<n.length;s++)n[s].apply(this,Array.prototype.slice.call(arguments,1))}},s.prototype.constructor=s,t.exports=s},function(t,e,i){"use strict";var s,n,a,o,r=i(20),c=i(5),l=i(2),d=i(32),h={};i(21),window.core=window.parent.getCoreInstance(window),window.core.once("load",function(){s.data.time.load&&s.defaultEvents.load({type:"load"})}),window.parent&&window.parent.gSTB&&(window.dvbManager=window.parent.dvbManager,window.epgManager=window.parent.epgManager,window.gSTB=window.parent.gSTB,window.pvrManager=window.parent.pvrManager,window.stbDownloadManager=window.parent.stbDownloadManager,window.stbStorage=window.parent.stbStorage,window.stbUpdate=window.parent.stbUpdate,window.stbUPnP=window.parent.stbUPnP,window.stbWebWindow=window.parent.stbWebWindow,window.stbWindowMgr=window.parent.stbWindowMgr,window.timeShift=window.parent.timeShift),s=new r({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),s.setScreen=function(t){return t?(t.availHeight=t.height-(t.availTop+t.availBottom),t.availWidth=t.width-(t.availLeft+t.availRight),window.moveTo(0,0),window.resizeTo(t.width,t.height),a&&a instanceof HTMLLinkElement&&document.head.removeChild(a),o&&o instanceof HTMLLinkElement&&document.head.removeChild(o),o=document.createElement("link"),o.rel="stylesheet",o.href=window.core.theme.path+t.height+".css?"+ +new Date,document.head.appendChild(o),a=document.createElement("link"),a.rel="stylesheet",a.href="css/release."+t.height+".css?"+ +new Date,document.head.appendChild(a),this.data.metrics=t,!0):!1},s.setScreen(d[screen.height]||d[720]);for(n in l)"volumeUp"!==n&&"volumeDown"!==n&&(h[l[n]]=!0);s.defaultEvents={load:function(t){s.data.time.load=t.timeStamp,window.core.ready&&(s.events[t.type]&&s.emit(t.type,t),c.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)}),s.data.time.done=+new Date,s.events.done&&s.emit("done",t))},unload:function(t){s.events[t.type]&&s.emit(t.type,t),c.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)})},error:function(t){},keydown:function(t){var e,i=c.current,n={keyCode:t.keyCode,stop:t.stop,shiftKey:t.shiftKey,altKey:t.altKey,type:t.type,"native":t};0!==n.keyCode&&(n.code=n.keyCode,n.shiftKey&&(n.code+=1e3),n.altKey&&(n.code+=2e3),e=i.activeComponent,e&&e!==i&&(e.events[n.type]&&e.emit(n.type,n),!n.stop&&e.propagate&&e.parent&&e.parent.events[n.type]&&e.parent.emit(n.type,n)),n.stop||(i.events[n.type]&&i.emit(n.type,n),n.stop||s.events[n.type]&&s.emit(n.type,n)),s.data.host&&h[n.code]&&t.preventDefault())},keypress:function(t){var e=c.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t)},click:function(t){},contextmenu:function(t){t.preventDefault()},mousewheel:function(t){var e=c.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t),t.stop||e.events[t.type]&&e.emit(t.type,t)}};for(n in s.defaultEvents)window.addEventListener(n,s.defaultEvents[n]);s.show=function(){this.events.show&&this.emit("show"),window.core.call("app:ready")},s.exit=function(t){var e,n=i(11),a=i(9),o=c.current.activeComponent;c.current.add(e=new n({title:gettext("Exit"),events:{show:function(){this.children[0].focus()},hide:function(){o.focus()}},children:[new a({size:2,focusIndex:0,data:[{items:[{value:gettext("Exit")}],click:function(){return"function"==typeof t&&t(!0)?(e.hide(),void e.remove()):(s.events.exit&&s.emit("exit"),e.hide(),e.remove(),void core.call("exit"))}},{items:[{value:gettext("Cancel")}],click:function(){"function"==typeof t&&t(!1),e.hide(),e.remove()}}],events:{keydown:function(i){a.prototype.defaultEvents.keydown.call(this,i),i.code===l.back&&(i.stop=!0,"function"==typeof t&&t(!1),e.hide(),e.remove())}}})]})),e.show(),e.focus()},window.gSTB&&gSTB.SetNativeStringMode&&gSTB.SetNativeStringMode(!0),t.exports=s},function(t,e,i){"use strict";var s,n=i(3);s=new n,s.current=null,s.history=[],s.pages=[],s.ids={},s.init=function(t){var e,i,s;if(t){for(this.pages=[],this.pages=t,e=0,i=t.length;i>e;e++)s=t[e],this.ids[s.id]=s,s.active&&(this.current=s);return this.events.init&&this.emit("init",{pages:t}),!0}return!1},s.parse=function(t){var e={name:"",data:[]};return e.data=t.split("/").map(decodeURIComponent),e.name=e.data.shift().slice(1),e},s.stringify=function(t,e){return e=Array.isArray(e)?e:[],t=encodeURIComponent(t),e=e.map(encodeURIComponent),e.unshift(t),e.join("/")},s.show=function(t,e){return t&&!t.active?(t.$node.classList.add("active"),t.active=!0,this.current=t,t.events.show&&t.emit("show",{page:t,data:e}),!0):!1},s.hide=function(t){return t&&t.active?(t.$node.classList.remove("active"),t.active=!1,this.current=null,t.events.hide&&t.emit("hide",{page:t}),!0):!1},s.navigate=function(t,e){var i=this.current,s=this.ids[t];return s&&!s.active?(location.hash=this.stringify(t,e),this.hide(this.current),this.show(s,e),this.events.navigate&&this.emit("navigate",{from:i,to:s}),this.history.push(s),!0):!1},s.back=function(){var t,e;return this.history.length>1&&(t=this.history.pop(),e=this.history[this.history.length-1],e&&!e.active)?(location.hash=e.id,this.hide(this.current),this.show(e),this.events.navigate&&this.emit("navigate",{from:t,to:e}),!0):!1},t.exports=s},function(t,e){"use strict";t.exports={appLoadDelay:2e3,searchInputDelay:400,newRemoteControl:!0,weatherUrl:"http://weather.infomir.com.ua/",getGeo:"getGeo.php",fileName:"weather.json"}},function(t,e,i){"use strict";function s(t,e){var i=null,s=core.environment.language,n=new XMLHttpRequest;n.open("GET","http://nominatim.openstreetmap.org/reverse?format=json&lat="+t.lat+"&zoom=18&addressdetails=1&lon="+t.lon+"&accept-language="+s),n.onload=function(){if(200===this.status)try{i=JSON.parse(this.responseText)}catch(t){}null!==i&&(a.location=i),a.emit("load",a.location),e(null,a.location)},n.send(null)}var n=i(3),a=new n;t.exports=a,a.location={display_name:"",lat:0,lon:0,address:{city:"",state:"",country:""}},a.load=function(t,e){var i,n=new XMLHttpRequest;return t.lat&&t.lon?(a.location.lat=+t.lat,a.location.lon=+t.lon,void(t.name?(t.display_name=t.name,a.location=JSON.parse(JSON.stringify(t)),i=a.location.name.split(","),a.location.address.city=i[0],a.location.address.state=i[1],a.location.address.country=i[2],a.emit("load",a.location)):s(a.location))):(n.open("GET","http://weather.infomir.com.ua/getGeo.php"),n.onload=function(){var t={data:{lon:0,lat:0}};if(200===this.status){try{t=JSON.parse(this.responseText)}catch(i){}a.location.lat=+t.data.lat,a.location.lon=+t.data.lon,s(a.location,e)}else a.emit("load",a.location)},void n.send(null))},a.search=function(t,e){var i=new XMLHttpRequest;i.open("GET","http://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=20&accept-language="+t.language+"&q="+t.query),i.onload=function(){if(200===this.status)try{e(JSON.parse(this.responseText),!1)}catch(t){e(null,404)}else e(null,this.status)},i.onerror=function(){e(null,this.status)},i.send(null)}},function(t,e){"use strict";t.exports={113:"f",116:"i",119:"h",122:"g",143:"m",248:"m",260:"m",176:"k",200:"k",263:"k",266:"k",293:"k",296:"k",299:"k",302:"k",305:"k",308:"k",353:"k",356:"k",359:"k",386:"k",389:"k",179:"l",182:"l",185:"l",227:"l",230:"l",281:"l",284:"l",311:"l",314:"l",317:"l",320:"l",323:"l",326:"l",329:"l",332:"l",335:"l",338:"l",350:"l",362:"l",365:"l",368:"l",371:"l",374:"l",377:"l",392:"l",395:"l"}},function(t,e,i){"use strict";function s(t){var e=this;t=t||{},this.handlers={},this.$noData=null,t.className="layoutList "+(t.className||""),t.propagate=t.propagate||!0,this.fixedData=t.fixedData||!1,t.$body=document.createElement("div"),t.$body.className="body",this.$noData=document.createElement("div"),this.$noData.className="noData hidden",n.call(this,t),this.$node.appendChild(this.$body),this.$node.appendChild(this.$noData),this.addListener("click:item",function(t){t.$item.layout.children.length&&!t.inner&&t.$item.layout.children[t.$item.layout.focusIndex].focus(),t.inner&&(e.focus(),e.focusItem(t.$item)),e.handlers[t.$item.index]&&e.handlers[t.$item.index](t.$item)})}var n=i(10),a=i(27);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.renderItemDefault=function(t,e){var i,s;if(t.ready&&this.fixedData&&!t.innerHTML.length)for(s=0;s<e.items.length;s++)"string"==typeof e.items[s].value&&(t.layout.$node.childNodes[s].innerText=e.items[s].value,t.layout.$node.childNodes[s].className=e.items[s].className);else{for(;t.firstChild;)t.removeChild(t.firstChild);i=new a({focusable:!1,data:e.items}),t.appendChild(i.$node),t.layout=i,i.parent=this,i.$parentItem=t,i.addListener("click",function(){this.parent.emit("click:item",{$item:t,inner:!0})}),e.click&&(this.handlers[t.index]=e.click),t.ready=!0}t.value=e.value||{}},s.prototype.setData=function(t){n.prototype.setData.call(this,t),t.data&&t.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},s.prototype.init=function(t){var e;n.prototype.init.call(this,t),t.noData&&(this.$noData.innerHTML="",t.noData instanceof Element?this.$noData.appendChild(t.noData):"string"==typeof t.noData&&(e=document.createElement("div"),e.innerText=t.noData,this.$noData.appendChild(e)))},s.prototype.renderItem=s.prototype.renderItemDefault,t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,t.type&&(this.type=t.type),this.provider=null,t.className="list "+(t.className||""),this.type===this.TYPE_HORIZONTAL&&(t.className+=" horizontal"),a.call(this,t),this.init(t)}function n(t){var e,i;for(e=0;e<t.length;e++)i=t[e],"object"!=typeof i&&(i=t[e]={value:t[e]});return t}var a=i(1),o=i(2);s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.TYPE_VERTICAL=1,s.prototype.TYPE_HORIZONTAL=2,s.prototype.renderItemDefault=function(t,e){t.innerText=e.value},s.prototype.renderItem=s.prototype.renderItemDefault,s.prototype.defaultEvents={mousewheel:function(t){this.type===this.TYPE_VERTICAL&&t.wheelDeltaY&&this.move(t.wheelDeltaY>0?o.up:o.down),this.type===this.TYPE_HORIZONTAL&&t.wheelDeltaX&&this.move(t.wheelDeltaX>0?o.left:o.right)},keydown:function(t){switch(t.code){case o.up:case o.down:case o.right:case o.left:case o.pageUp:case o.pageDown:case o.home:case o.end:this.move(t.code);break;case o.ok:this.events["click:item"]&&this.$focusItem&&this.emit("click:item",{$item:this.$focusItem,event:t})}}},s.prototype.init=function(t){var e,i,s=this,n=this.$body.children.length,a=function(t){this.data&&(s.focusItem(this),s.events["click:item"]&&s.emit("click:item",{$item:this,event:t}))};if(void 0!==t.cycle&&(this.cycle=t.cycle),t.scroll&&(this.scroll=t.scroll),t.provider&&(this.provider=t.provider),t.render&&(this.renderItem=t.render),t.size&&(this.size=t.size),this.size!==n)for(n>0&&(this.$body.innerText=null),i=0;i<this.size;i++)e=document.createElement("div"),e.index=i,e.className="item",e.addEventListener("click",a),this.$body.appendChild(e);void 0!==t.viewIndex,this.viewIndex=null,this.provider?this.provider.get(null,function(e,i){e?s.events["data:error"]&&s.emit("data:error",e):(i&&(t.data=i,s.setData(t),s.scroll&&s.scroll.init({realSize:s.provider.maxCount,viewSize:s.provider.size,value:s.provider.head+s.provider.pos})),s.events["data:get"]&&s.emit("data:get"))}):t.data&&this.setData(t)},s.prototype.setData=function(t){t.data&&(this.data=n(t.data)),this.viewIndex=null,this.$focusItem&&this.blurItem(this.$focusItem),this.scroll&&!this.provider&&this.scroll.init({realSize:this.data.length,viewSize:this.size,value:t.viewIndex||0}),void 0!==t.focusIndex&&this.data.length?this.focusIndex(t.focusIndex):this.renderView(t.viewIndex||0)},s.prototype.renderView=function(t){var e,i,s,n,a;if(this.viewIndex!==t){for(n=this.viewIndex,this.viewIndex=a=t,i=0;i<this.size;i++)e=this.$body.children[i],s=this.data[t],s?(e.data=s,e.index=t,this.renderItem(e,s),s.mark?e.classList.add("mark"):e.classList.remove("mark")):(e.data=e.index=void 0,e.innerHTML="&nbsp;",e.ready=!1),t++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:n,currIndex:a}),this.events["select:item"]&&this.emit("select:item",{$item:e}),this.scroll&&this.scroll.scrollTo(this.provider?this.provider.head+this.provider.pos:this.viewIndex),!0}return!1},s.prototype.move=function(t){var e=this,i=!1;if(this.data.length)switch(t){case o.left:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case o.up:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.provider?this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:e.$focusItem.index})}):(this.cycle&&this.move(o.end),this.events.overflow&&this.emit("overflow",{direction:t,cycle:this.cycle})));break;case o.right:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case o.down:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.provider?this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:e.$focusItem.index})}):(this.cycle&&this.move(o.home),this.events.overflow&&this.emit("overflow",{direction:t,cycle:this.cycle})));break;case o.pageUp:if(this.provider)return void this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s?s:0})});this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case o.pageDown:if(this.provider){this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:i.length<e.size?i.length-1:e.size-1})});break}this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]);break;case o.home:if(this.provider){this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s?s:0})});break}this.renderView(0),this.focusItem(this.$body.firstChild);break;case o.end:if(this.provider){this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:i.length<e.size?i.length-1:e.size-1})});break}this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])}},s.prototype.focusItem=function(t){var e=this.$focusItem;return t&&e!==t?(null!==e&&(e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e})),this.$focusItem=t,this.$focusItem.data=this.data[this.$focusItem.index],t.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:e,$curr:t}),this.events["select:item"]&&this.emit("select:item",{$item:t}),!0):!1},s.prototype.blurItem=function(t){return t?(t===this.$focusItem&&(this.$focusItem=null),t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t}),!0):!1},s.prototype.focusIndex=function(t){var e=this.viewIndex||0;t>=e+this.size?(t=t<this.data.length-1?t:this.data.length-1,this.renderView(t-this.size+1),this.focusItem(this.$body.lastChild)):e>t?(t=t>0?t:0,this.renderView(t),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[t-e]))},s.prototype.markItem=function(t,e){e?t.classList.add("mark"):t.classList.remove("mark"),t.data.mark=e},t.exports=s},function(t,e,i){"use strict";function s(t){var e;t=t||{},t.focusable=t.focusable||!1,t.className="modalMessage "+(t.className||""),t.visible=t.visible||!1,t.$body=document.createElement("div"),t.$body.className="body",n.call(this,t),this.$node.appendChild(document.createElement("div")),this.$node.firstChild.classList.add("alignBox"),this.$node.firstChild.appendChild(document.createElement("div")),this.$header=document.createElement("div"),this.$header.className="header",this.$text=this.$header.appendChild(document.createElement("div")),this.$text.classList.add("text"),this.$text.innerText=t.title||"",t.icon&&(this.$icon=this.$header.appendChild(document.createElement("div")),this.$icon.className="icon "+t.icon),e=document.createElement("div"),e.className="overlay",this.$node.firstChild.firstChild.appendChild(this.$header),this.$node.firstChild.firstChild.appendChild(this.$body),this.$node.firstChild.firstChild.appendChild(e)}var n=i(1);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.focus=function(){this.$node.classList.add("active"),n.prototype.focus.call(this),this.children[0]&&this.children[0]instanceof n&&this.children[0].focus()},s.prototype.blur=function(){this.$node.classList.remove("active"),n.prototype.blur.call(this)},t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},this.active=!1,this.activeComponent=null,t.className="page "+(t.className||""),n.call(this,t),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var n=i(1);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,t.exports=s},function(t,e){!function(){"use strict";function e(t,e){t=parseFloat(t);var i={CF:~~(9*t/5+32)+"°F",FC:~~(5*(t-32)/9)+"°C",MSKH:~~(3.6*t)+gettext("km/h"),KHMS:~~(.277778*t)+gettext("m/s"),MSMH:~~(2.236936*t)+gettext("m/h"),MHMS:~~(.44704*t)+gettext("m/s"),KHMH:~~(.621371*t)+gettext("m/h"),MHKH:~~(1.609344*t)+gettext("km/h")};if(!i[e])throw new Error("Incorrect direction to convert, use the following: CF/FC/MSKH/MSMH/KHMS/KHMH/MHMS/MHKH");return i[e]}t.exports=e}()},function(t,e){"use strict";var i=gettext("N"),s=gettext("NE"),n=gettext("E"),a=gettext("SE"),o=gettext("S"),r=gettext("SW"),c=gettext("W"),l=gettext("NW");t.exports=function(t){return 22.5>t?i:67.5>t?s:112.5>t?n:157.5>t?a:202.5>t?o:247.5>t?r:292.5>t?c:337.5>t?l:i}},function(t,e){"use strict";t.exports=function(t,e){return~~(Math.random()*(e-t+1))+t}},function(t,e,i){"use strict";function s(t,e){this.forecast={},this.location=t.location||null,this.updateTimeout=-1,this.badRequests=0,a.call(this),t.events&&this.addListeners(t.events),this.location&&this.getForecast(this.location,e)}var n=i(4),a=i(3),o=i(6),r=i(15),c=i(14),l=(i(8),[gettext("January"),gettext("February"),gettext("March"),gettext("April"),gettext("May"),gettext("June"),gettext("July"),gettext("August"),gettext("September"),gettext("October"),gettext("November"),gettext("December")]),d=[gettext("Sunday"),gettext("Monday"),gettext("Tuesday"),gettext("Wednesday"),gettext("Thursday"),gettext("Friday"),gettext("Saturday")],h=60*r(10,50),u=6e4*r(120,360),p={data:null,url:o.weatherUrl+"getCheck.php?id="+n.environment.Image_Desc+"&mac="+gSTB.GetDeviceMacAddress()+"&sn="+gSTB.GetDeviceSerialNumber(),updateTimeout:-1,update:function(t){var e=this,i=new XMLHttpRequest;i.open("GET",this.url),i.onload=function(){var i=null;try{i=JSON.parse(this.responseText)}catch(s){}200===this.status&&i&&0===i.code?(e.data=i.data,t&&t()):e.updateTimeout=setTimeout(function(){e.update(t)},h)},i.timeout=10,i.ontimeout=i.onerror=function(){e.updateTimeout=setTimeout(function(){e.update(t)},h)},i.send(null)}};s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.RESPONSE_CODE_OK=0,s.prototype.RESPONSE_CODE_CODE_NO_DATA=1,s.prototype.RESPONSE_CODE_STALE_DATA=2,s.prototype.RESPONSE_CODE_BAD_PARAMS=3,s.prototype.RESPONSE_CODE_BAD_HASH=5,s.prototype.normalizeForecast=function(t,e){var i,s,n,a,o={current:{dayName:"",date:"",indicator:"",description:"",temperatureDay:"",temperatureNight:"",temperature:"",humidity:"",windSpeed:""},days:[{dayName:"",date:"",indicator:"",description:"",temperatureDay:"",temperatureNight:""},{dayName:"",date:"",indicator:"",description:"",temperatureDay:"",temperatureNight:""},{dayName:"",date:"",indicator:"",description:"",temperatureDay:"",temperatureNight:""}]};for(i=!!t.current.day,n=t.days[0],o.current.indicator="img/weather/"+(i?"day/":"night/")+n.id+".png",o.current.description=n.id,o.current.windDirection=c(t.current.wd),o.current.temperature=t.current.tcc,o.current.temperatureDay=n.thc,o.current.temperatureNight=n.tlc,o.current.windSpeed=t.current.wsk.toFixed(1),o.current.humidity=t.current.h+" %",a=n.d.split("-"),n=new Date(a[0],a[1]-1,a[2]),o.current.dayName=d[n.getDay()],o.current.date=a[2]+" "+l[a[1]-1],s=1;4>s;++s)n=t.days[s],o.days[s-1].dayName="",o.days[s-1].date="",o.days[s-1].indicator="img/weather/"+(i?"day/":"night/")+n.id+".png",o.days[s-1].description=n.id,o.days[s-1].temperatureDay=n.thc,o.days[s-1].temperatureNight=n.tlc,a=n.d.split("-"),n=new Date(a[0],a[1]-1,a[2]),o.days[s-1].dayName=d[n.getDay()],o.days[s-1].date=a[2]+" "+l[a[1]-1];return o},s.prototype.getForecast=function(t,e){var i=this,s="lat="+t.lat+"&lon="+t.lon,n=gSTB.GetHashVersion1(Math.round(100*t.lat)/100+","+Math.round(100*t.lon)/100,p.data),a=o.weatherUrl+"getData.php?"+s+"&hk="+n,r=new XMLHttpRequest;r.open("GET",a),clearTimeout(this.updateTimeout),r.onload=function(){var s;try{s=JSON.parse(this.responseText)}catch(n){++i.badRequests,i.updateTimeout=setTimeout(function(){p.update(function(){i.getForecast(t,e)})},h),s={code:-1}}switch(s.code){case i.RESPONSE_CODE_OK:i.forecast=s.data,i.forecast.current&&(i.emit("change",i.forecast),e(i.normalizeForecast(i.forecast))),i.updateTimeout=setTimeout(function(){i.getForecast(t,e)},u);break;case i.RESPONSE_CODE_CODE_NO_DATA:case i.RESPONSE_CODE_STALE_DATA:case i.RESPONSE_CODE_BAD_HASH:case i.RESPONSE_CODE_BAD_PARAMS:default:i.emit("error",s.code),i.updateTimeout=setTimeout(function(){p.update(function(){i.getForecast(t,e)})},h)}},r.send(null)},t.exports=s},function(t,e,i){"use strict";function s(){gSTB.SaveUserData(V.fileName,JSON.stringify(M.userStore))}function n(){(at.temperature&&k.temperature!==at.temperature||at.windSpeedUnits&&k.windSpeedUnits!==at.windSpeedUnits)&&(at.temperature&&k.temperature!==at.temperature&&(st=st.map(function(t){return t.items[1].value=K(t.items[1].value,k.temperature+at.temperature),t}),k.temperature=at.temperature),at.windSpeedUnits&&k.windSpeedUnits!==at.windSpeedUnits&&(k.windSpeedUnits=at.windSpeedUnits),s(),h(E,st,7,7,T),S.forecastId&&h(S,c(S.forecastId),8,8,null))}function a(t){var e=/^[^,]+/;return/^[^,]+$/.test(t)?t:[t.match(e)[0],t.replace(e,"").slice(2)]}function o(t){return W[t]||""}function r(t){switch(t){case"NAME":h(E,st.sort(function(t,e){return t.items[2].value.toLowerCase().localeCompare(e.items[2].value.toLowerCase())}),7,7,T);break;case"NUMBER":h(E,st.sort(function(t,e){return st.indexOf(t)-st.indexOf(e)}),7,7,T)}}function c(t){var e,i,s,n,a,r=k.temperature,c=k.windSpeedUnits,l={N:gettext("north"),S:gettext("south"),E:gettext("east"),W:gettext("west")};try{e=it[t],i=e.current,s=e.days}catch(d){n=!0}return n?void 0:(s=s.map(function(t,e){return[{items:[{value:t.dayName+", "+t.date,className:"detailsWeatherTitle"},{value:o(s[e].description),className:"addPlaceIcon detailsWeatherTitle"}]},{items:[gettext("temperature")+": "+("F"===r?K(t.temperatureDay,"CF"):t.temperatureDay+ot)+"~"+("F"===r?K(t.temperatureNight,"CF"):t.temperatureNight+ot)]}]}),a=2===i.windDirection.length?l[i.windDirection[0]]+"-"+l[i.windDirection[1]]:l[i.windDirection],[{items:[{value:i.dayName+", "+i.date,className:"detailsWeatherTitle"},{value:o(i.description),className:"addPlaceIcon detailsWeatherTitle"}]},{items:[gettext("temperature")+": "+("F"===r?K(i.temperatureDay,"CF"):i.temperatureDay+ot)+"~"+("F"===r?K(i.temperatureNight,"CF"):i.temperatureNight+ot),gettext("humidity")+": "+i.humidity,gettext("wind")+": "+a+", "+("km/h"===c||"m/h"===c?"km/h"===c?K(i.windSpeed,"MSKH"):K(i.windSpeed,"MSMH"):i.windSpeed+gettext("m/s"))]}].concat([].concat.apply([],s)))}function l(t){return t.map(function(t,e){var i=a(t.display_name),n=Array.isArray(i),r=n?i[0]:i,l={lat:t.lat,lon:t.lon},d=("id"+Math.random()*Date.now()).replace(".","");return{items:[{value:r,className:"placeTitleListBlock"},{value:n?i[1]:"",className:"placeRestListBlock"}],click:function(){var e,i,n,a=!0;for(n=I.length;n--;)if(I[n].lat===l.lat&&I[n].lon===l.lon){a=!1;break}a&&(i={items:[{value:"n",className:"placeholderIcon addPlaceIcon "+d},{value:"",className:"addPlaceTemp "+d},{value:r,className:"addPlaceTitle"}],value:{id:d,lat:l.lat,lon:l.lon},click:function(){}},nt[d]=i,st.push(i),h(E,st,7,7,T),I.push({fullName:t.display_name,shortName:r,lat:l.lat,lon:l.lon}),s(),e=new j({location:l},function(t){var e,i,s=document.getElementsByClassName(d),n=k.temperature;it[d]=t,e=o(it[d].current.description),i=it[d].current.temperature,s[0].textContent=e,n=s[1].textContent="F"===n?K(i,"CF"):i+ot,nt[d].items[0].value=e,nt[d].items[1].value=n,[].forEach.call(G.querySelectorAll(".addPlaceIcon"),function(t){t.classList.remove("placeholderIcon")});for(var a=st.length;a--;)st[a].value.id===d&&(st[a]=nt[d]);S.forecastId=d,S.init({data:c(d),size:8})})),x.setData({size:5,data:[]}),y.setValue(""),J.modalMessageSearch.hide(),w.show(),w.focus()}}})}function d(){var t=y.value.trim();t&&F.search({language:core.environment.language,query:t},function(t,e){t&&t.length?(ct=!0,h(x,l(t.slice(0,5)),5,5,null)):(ct=!1,h(x,[],5,5,null))})}function h(t,e,i,s,n,a){var e={scroll:e.length<=s?null:n,size:i,data:e};a&&Object.keys(a).forEach(function(t){e[t]=a[t]}),t.setData(e),n&&(e.length>s?t.scroller||(x.scroller=1,n.init({realSize:e.length}),n.$node.style.display=""):(t.scroller=0,n.$node.style.display="none")),[].forEach.call(G.querySelectorAll(".addPlaceIcon"),function(t){t.classList.remove("placeholderIcon")})}function u(t){var e=[{items:[{value:"",className:"icon f2"},gettext("add city")],click:function(){m.itemToReturn={idx:E.$focusItem.index},v(),m()}},{items:[{value:"",className:"icon f1"},gettext("delete city")],click:function(){core.notify({title:gettext("Are you sure you want to delete this location?"),icon:"info",type:"",buttons:[{value:gettext("Cancel"),click:function(){}},{value:gettext("Ok"),click:function(){var t,e=E.$focusItem,i=e.data.value.id;for(t=I.length;t--;)if(I[t].lat===e.data.value.lat&&I[t].lon===e.data.value.lon){I.splice(t,1);break}s(),delete nt[i],delete it[i],st=st.filter(function(t){return t.value.id!==i}),h(E,st,7,7,T),st.length||h(S,[],8,8,null),v()}}]})}},{items:[{value:"{",className:"icon"},gettext("move up")],click:function(){var t,e=E.$focusItem,i=e.index;t=st[i-1],st[i-1]=st[i],st[i]=t,h(E,st,7,7,T,null),v()}},{items:[{value:"}",className:"icon"},gettext("move down")],click:function(){var t,e=E.$focusItem,i=e.index;t=st[i+1],st[i+1]=st[i],st[i]=t,h(E,st,7,7,T,null),v()}}];return e.filter(function(e,i){return+t[i]})}function p(t,e){var i,a,o,l,p,f=document,M=t.length,j=V.searchInputDelay,W=f.createElement("div");W.className="addCityIcon",W.textContent=gettext("Press"),W.appendChild(W.cloneNode(!1)),W.lastElementChild.className="icon f2",W.appendChild(f.createTextNode(gettext("for adding new city"))),J.footer=new Y({parent:J,data:[]}),i=[{items:[{value:gettext("temperature")},{value:e&&e.temperature?"C"===e.temperature?ot:rt:ot,className:"optionTemperatureIndicator"}],click:function(){w.blur(),J.modalMessageSettingsTemperature.show(),J.modalMessageSettingsTemperature.focus(),Q=!0}},{
items:[{value:gettext("wind speed")},{value:e&&e.windSpeedUnits?e.windSpeedUnits:"m/s",className:"optionWindSpeedIndicator"}],click:function(){w.blur(),J.modalMessageSettingsWindSpeedUnits.show(),J.modalMessageSettingsWindSpeedUnits.focus(),Q=!0}}],T=new A({value:0,viewSize:7,realSize:M}),y=new B({placeholder:gettext("search"),events:{keydown:function(t){var e=!this.value;switch(B.prototype.defaultEvents.keydown.call(this,t),t.code){case O.back:e&&(v(),w.show(),m.itemToReturn&&(b.focus(),E.focusIndex(m.itemToReturn.idx),m.itemToReturn=null)),t.stop=!0;break;case O.ok:break;case O.down:ct&&(y.blur(),D.blur(),x.focus(),x.focusIndex(0))}},input:function(){setTimeout(function(){d()},j)}}}),J.modalMessageSearch=new P({className:"searchPlaceModalWindow",title:gettext("add city"),events:{show:function(){y.focus(),Z=!0,J.footer.hide()}},children:[D=new _({size:1,data:[{items:[{value:"M",className:"icon"},y]}]}),x=new _({fixedData:!0})]}),J.modalMessageSort=new P({title:gettext("sorting"),events:{show:function(){J.modalMessageSort.children[0].focus(),tt=!0}},children:[new H({focusIndex:0,size:2,events:{"click:item":function(t){r(1===t.$item.value?"NUMBER":"NAME"),a.innerText=t.$item.data.title,J.modalMessageSort.hide(),tt=!1,w.focus(),C.focus()}},data:[{state:!1,title:gettext("by name"),value:0},{state:!0,title:gettext("by date"),value:1}]})]}),J.modalMessageSettingsTemperature=new P({title:gettext("units"),events:{show:function(){J.modalMessageSettingsTemperature.children[0].focus(),Q=!0}},children:[new H({focusIndex:0,size:2,events:{"click:item":function(t){t.$item.value?(o.textContent=rt,at.temperature="F"):(o.textContent=ot,at.temperature="C"),v()}},data:[{state:k?"C"===k.temperature:!0,title:gettext("Celsius"),value:0},{state:k?"F"===k.temperature:!1,title:gettext("Fahrenheit"),value:1}]})]}),J.modalMessageSettingsWindSpeedUnits=new P({title:gettext("units"),events:{show:function(){J.modalMessageSettingsWindSpeedUnits.children[0].focus(),Q=!0}},children:[new H({focusIndex:0,size:3,events:{"click:item":function(t){2===t.$item.value?(l.textContent=gettext("m/h"),at.windSpeedUnits="m/h"):1===t.$item.value?(l.textContent=gettext("km/h"),at.windSpeedUnits="km/h"):(l.textContent=gettext("m/s"),at.windSpeedUnits="m/s"),v()}},data:[{state:k?"m/s"===k.windSpeedUnits:!0,title:gettext("m/s"),value:0},{state:k?"km/h"===k.windSpeedUnits:!1,title:gettext("km/h"),value:1},{state:k?"m/h"===k.windSpeedUnits:!1,title:gettext("m/h"),value:2}]})]}),J.modalMessageLocationContextMenu=new P({title:gettext("actions"),events:{show:function(){J.modalMessageLocationContextMenu.focus(),p.focusIndex(0),X=!0}},children:[p=new _({cycle:!0,focusIndex:0,size:0,data:[]})]}),J.btnSaveSettings=new U({value:gettext("save"),className:"saveBtn"}),J.add(new q),J.add(J.footer),J.add(J.modalMessageSearch),J.add(J.modalMessageSort),J.add(J.modalMessageSettingsTemperature),J.add(J.modalMessageSettingsWindSpeedUnits),J.add(J.modalMessageLocationContextMenu),J.footer.show(),J.add(w=new R({panels:[$=new z({size:1,title:gettext("menu"),children:[C=new _({cycle:!0,size:3,focusIndex:0,data:[{items:[{value:"U",className:"icon"},gettext("add city")],click:function(){m()}},{items:[{value:"L",className:"icon"},gettext("by date")],click:function(){w.blur(),J.modalMessageSort.show(),J.modalMessageSort.focus()}},{items:[{value:"N",className:"icon"},gettext("settings")],click:function(){et=!0,b.$title.textContent=gettext("settings"),E.hide(),L.show(),$.hide(),N.hide(),b.focus(),L.focus(),L.focusIndex(0),f.querySelector(".panelEx.main").classList.add("itemsNewProportions"),b.$node.classList.remove("leftShadow"),b.$node.classList.remove("rightShadow"),J.footer.hide()}}]})]}),b=new z({size:1,title:gettext("cities"),main:!0,children:!J.loaded&&[E=new _({size:7,cycle:!0,scroll:8>M?null:T,data:t,noData:W}),L=new _({cycle:!0,visible:!1,focusIndex:0,size:2,data:i,events:{overflow:function(t){t.direction===O.down&&(this.blurItem(this.$focusItem),J.btnSaveSettings.focus())}}})]}),N=new z({size:1,title:gettext("details"),children:[S=new _({size:0,data:[],focusable:!1})]})]})),b.$body.appendChild(T.$node),L.$body.parentNode.appendChild(J.btnSaveSettings.$node),a=C.$node.children[0].children[1].children[0].children[1],t.length||(T.$node.style.display="none"),o=f.querySelector(".optionTemperatureIndicator"),l=f.querySelector(".optionWindSpeedIndicator"),f.querySelector(".panelEx.right").classList.add("denseRightDisplay"),J.btnSaveSettings.addListener("click",function(){n(),g()}),J.btnSaveSettings.addListener("keydown",function(t){t.code===O.up&&(L.focus(),L.focusIndex(1))}),E.addListener("blur",function(){J.footer.hide()}),E.addListener("focus",function(){st.length?(this.focusIndex(0),J.footer.init([{type:"f1",title:gettext("delete"),action:function(){core.notify({title:gettext("Are you sure you want to delete this location?"),icon:"info",type:"",buttons:[{value:gettext("Cancel"),click:function(){}},{value:gettext("Ok"),click:function(){var t,e=E.$focusItem,i=e.data.value.id,n=e.index,a=st.length;for(t=I.length;t--;)if(I[t].lat===e.data.value.lat&&I[t].lon===e.data.value.lon){I.splice(t,1);break}s(),delete nt[i],delete it[i],st=st.filter(function(t){return t.value.id!==i}),h(E,st,7,7,T),st.length?E.focusIndex(n+1===a?n-1:n):(h(S,[],8,8,null),J.footer.init([{type:"f2",title:gettext("add city"),action:function(){m()}}]))}}]})}},{type:"f2",title:gettext("add city"),action:function(){m()}}])):J.footer.init([{type:"f2",title:gettext("add city"),action:function(){m()}}]),J.footer.show()}),E.addListener("keydown",function(t){if(t.code===O.f2)m();else if(st.length&&t.code===O.menu){var e=E.$focusItem;st.length>1?e.index?e.index===st.length-1?p.init({size:3,data:u("1110")}):p.init({size:4,data:u("1111")}):p.init({size:3,data:u("1101")}):p.init({size:2,data:u("1100")}),w.blur(),J.modalMessageLocationContextMenu.show(),J.footer.hide()}}),E.addListener("focus:item",function(){var t=E.$focusItem.data.value.id;S.forecastId=t,S.init({data:c(t),size:8})}),E.addListener("move:view",function(){E&&E.$focusItem&&E.emit("focus:item")}),S.addListener("click:item",function(){Array.prototype.forEach.call(f.querySelectorAll(".panelEx.right .item"),function(t){t.classList.remove("focus"),t.style.cursor="default"})}),b.addListener("focus",function(){et&&L.focus()}),b.addListener("keydown",function(t){!et||t.code!==O.left&&t.code!==O.right||b.focus()}),x.addListener("keydown",function(t){t.keyCode===O.up&&(this.$focusItem.index||(x.blur(),D.focus(),y.focus()))}),D.$body.firstElementChild.classList.add("bgDarken"),w.drawShadow(),b.focus()}function m(){G.querySelector(".panelEx.main").classList.remove("itemsNewProportions"),w.hide(),J.modalMessageSearch.show(),J.modalMessageSearch.focus(),y.focus()}function f(t){return t?t.map(function(t){var e,i=("id"+Math.random()*Date.now()).replace(".",""),s={items:[{value:"n",className:"placeholderIcon addPlaceIcon "+i},{value:"",className:"addPlaceTemp "+i},{value:t.shortName,className:"addPlaceTitle"}],value:{id:i,lat:t.lat,lon:t.lon},click:function(){}};return nt[i]=s,st.push(s),e=new j({location:{lat:t.lat,lon:t.lon}},function(t){var e,s,n=document.getElementsByClassName(i),a=k.temperature;it[i]=t,e=o(t.current.description),s=t.current.temperature,n[0].textContent=e,a=n[1].textContent="F"===a?K(s,"CF"):s+ot,nt[i].items[0].value=e,nt[i].items[1].value=a,[].forEach.call(G.querySelectorAll(".addPlaceIcon"),function(t){t.classList.remove("placeholderIcon")}),st.length=0,Object.keys(nt).forEach(function(t){st.push(nt[t])}),S.forecastId=i,S.init({data:c(i),size:8})}),s}):[]}function v(){J.modalMessageSearch.hide(),J.modalMessageSort.hide(),J.modalMessageSettingsTemperature.hide(),J.modalMessageSettingsWindSpeedUnits.hide(),J.modalMessageLocationContextMenu.hide(),b.focus(),Q=!1,tt=!1,Z=!1,X=!1}function g(){b.$title.textContent=gettext("cities"),G.querySelector(".panelEx.main").classList.remove("itemsNewProportions"),$.show(),N.show(),L.hide(),E.show(),S.show(),et=!1,$.focus(),b.$node.classList.add("leftShadow","rightShadow")}var y,w,x,$,b,N,S,C,k,I,E,T,L,D,M=i(4),O=i(2),z=i(28),R=i(29),_=i(9),P=i(11),H=i(30),A=i(31),B=i(26),U=i(22),j=i(16),W=i(8),F=i(7),V=i(6),K=i(13),Y=i(25),q=i(24),J=new(i(12))({$node:window.pageMain}),G=document,X=!1,Z=!1,Q=!1,tt=!1,et=!1,it={},st=[],nt={},at={},ot="°C",rt="°F",ct=!1;J.addListener("show",function(){J.loaded||(M.userStore?(I=M.userStore.locations||[],k=M.userStore.settings||{},p(f(I),k)):(p([],null),M.userStore={},I=M.userStore.locations=[],k=M.userStore.settings={}),k.temperature=k.temperature||"C",k.windSpeedUnits=k.windSpeedUnits||"m/s",s(),J.loaded=1)}),J.addListener("keydown",function(t){var e=tt;switch(t.code){case O.back:Q||tt||Z||X?(v(),w.show(),m.itemToReturn&&(b.focus(),E.focusIndex(m.itemToReturn.idx),m.itemToReturn=null),e&&$.focus()):et?g():(w.blur(),M.exit(function(t){t||w.focus()}))}}),t.exports=J},function(t,e){"use strict";var i={};i.tag=function(t,e,i){var s,n,a=null;if(t){if(a=document.createElement(t),e&&"object"==typeof e)for(n in e)a[n]=e[n];for(s=2;s<arguments.length;s++)arguments[s]&&a.appendChild("object"==typeof arguments[s]?arguments[s]:document.createTextNode(arguments[s]))}return a},i.fragment=function(t){var e,i=document.createDocumentFragment();for(e=0;e<arguments.length;e++)t=arguments[e],t&&i.appendChild("object"==typeof t?t:document.createTextNode(t));return i},i.add=function(t,e){var i;if(t instanceof Node){for(i=1;i<arguments.length;i++)arguments[i]&&t.appendChild("object"==typeof arguments[i]?arguments[i]:document.createTextNode(arguments[i]));return t}return null},i.remove=function(t){var e,i=0;for(e=0;e<arguments.length;e++)arguments[e]&&arguments[e].parentNode&&arguments[e].parentNode.removeChild(arguments[e])===arguments[e]&&i++;return arguments.length>0&&i===arguments.length},t.exports=i},function(module,exports,__webpack_require__){"use strict";var Emitter=__webpack_require__(3),gettext=new Emitter,meta=null,data=null;gettext.load=function(t,e){var i=new XMLHttpRequest;t.ext=t.ext||"json",t.path=t.path||"lang",i.responseType="text",i.onload=function(){var t;try{t=JSON.parse(i.responseText),meta=t.meta,data=t.data,e(null,data)}catch(s){meta=null,data=null,i.onerror(s)}gettext.events.load&&gettext.emit("load")},i.onerror=function(t){e(t),gettext.events.error&&gettext.emit("error")},i.open("GET",t.path+"/"+t.name+"."+t.ext,!0),i.send(null)},window.gettext=function(t){return data&&data[""][t]?data[""][t]:t},window.pgettext=function(t,e){return data&&data[t][e]?data[t][e]:e},window.ngettext=function(msgId,plural,value){return data&&meta?data[""][msgId][eval("var n = "+value+"; "+meta.plural)]:1===value?msgId:plural},module.exports=gettext},function(t,e,i){"use strict";function s(t){n.call(this),this.data=t||{}}var n=i(3);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.idName="id",s.prototype.clear=function(){var t=this.data;return Object.keys(t).length>0?(this.data={},this.events.clear&&this.emit("clear",{data:t}),!0):!1},s.prototype.init=function(t){return t?(this.clear(),this.data=t,this.events.init&&this.emit("init",{data:t}),!0):!1},s.prototype.has=function(t){return this.data.hasOwnProperty(t)},s.prototype.get=function(t){return this.data[t]},s.prototype.set=function(t,e){var i=t in this.data,s={name:t,curr:e};return i?(s.prev=this.data[t],e!==s.prev?(this.data[t]=e,this.events.change&&this.emit("change",s),!0):!1):(this.data[t]=e,this.events.change&&this.emit("change",s),!0)},s.prototype.unset=function(t){var e,i=t in this.data;return i?(e={name:t,prev:this.data[t]},delete this.data[t],this.events.change&&this.emit("change",e),!0):!1},t.exports=s},function(t,e){"use strict";if(!("classList"in document.documentElement)){var i=Array.prototype,s=i.indexOf,n=i.slice,a=i.push,o=i.splice,r=i.join;window.DOMTokenList=function(t){if(this._element=t,t.className!==this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<i.length;e++)a.call(this,i[e])}},window.DOMTokenList.prototype={add:function(t){this.contains(t)||(a.call(this,t),this._element.className=n.call(this,0).join(" "))},contains:function(t){return-1!==s.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var e=s.call(this,t);-1!==e&&(o.call(this,e,1),this._element.className=n.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(t,e,i){"use strict";function s(t){t=t||{},t.className="button "+(t.className||""),n.call(this,t),t.icon&&(this.$icon=this.$body.appendChild(document.createElement("div")),this.$icon.className="icon "+t.icon),this.$text=this.$body.appendChild(document.createElement("div")),this.$text.classList.add("text"),t.value&&(this.$text.innerText=t.value)}var n=i(1),a=i(2);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.clickDuration=200,s.prototype.defaultEvents={click:function(){var t=this;this.$node.classList.add("click"),setTimeout(function(){t.$node.classList.remove("click")},this.clickDuration)},keydown:function(t){t.code===a.ok&&this.events.click&&this.emit("click",{event:t})}},t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},t.className="checkBox "+(t.className||""),this.value=!!t.value,this.value&&(t.className+=" checked"),n.call(this,t),this.group=null,t.group&&(this.group=t.group,void 0===o[t.group]?o[t.group]=[this]:o[t.group].push(this))}var n=i(1),a=i(2),o={};s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.defaultEvents={click:function(){this.set(!this.value)},keydown:function(t){t.code===a.ok&&this.set(!this.value)}},s.prototype.set=function(t){var e,i;if(this.value!==t){if(!this.value&&null!==this.group)for(e=0,i=o[this.group].length;i>e;e++)o[this.group][e].set(!1);return this.value=!this.value,this.$node.classList.toggle("checked"),this.events.change&&this.emit("change",{value:this.value}),!0}return!1},t.exports=s},function(t,e,i){"use strict";function s(t){function e(){var t=new Date,e=(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours()),s=t.getMinutes();i.innerText=(e>9?e:"0"+e)+":"+(s>9?s:"0"+s)}var i=document.createElement("div");t=t||{},t.focusable=!1,t.className="clock "+(t.className||""),t.visible=t.visible||!0,n.call(this,t),e(),setInterval(e,1e3),this.$node.appendChild(i)}var n=i(1);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,t.exports=s},function(t,e,i){"use strict";function s(t){var e;t=t||{},t.focusable=!1,t.className="footer "+(t.className||""),t.visible=t.visible||!1,t.$body=document.createElement("div"),t.$body.className="body",n.call(this,t),this.tabs=[],this.tab=0,this.$node.appendChild(o.tag("table",{},o.tag("tr",{},o.tag("td",{},o.tag("div",{className:"icon menu"})),o.tag("td",{className:"central"},this.tabs[0]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"}))),this.tabs[1]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"}))),this.tabs[2]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"}))),this.tabs[3]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})))),o.tag("td",{},this.$info=o.tag("div",{className:"icon info"}))))),this.init(t.data),e=this,this.parent.addListener("keydown",function(t){var i=e.tabs[e.tab];if(e.visible)switch(t.code){case a.f1:i.f1&&"function"==typeof i.f1.action&&i.f1.action();break;case a.f2:i.f2&&"function"==typeof i.f2.action&&i.f2.action();break;case a.f3:i.f3&&"function"==typeof i.f3.action&&i.f3.action();break;case a.f4:i.f4&&"function"==typeof i.f4.action&&i.f4.action();break;case a.menu:i.menu&&"function"==typeof i.menu.action&&i.menu.action();break;case a.info:"none"!==e.$info.style.display&&(i.classList.contains("hidden")?i.classList.remove("hidden"):i.classList.add("hidden"))}})}var n=i(1),a=(i(12),i(2)),o=i(18);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.init=function(t){var e,i=!this.tabs[this.tab].classList.contains("hidden"),s=0;for(t=t||[],this.tabs[this.tab].classList.add("hidden"),this.$info.style.display="none",t.forEach(function(t){-1!==["f1","f2","f3","f4"].indexOf(t.type)&&s++}),this.tab=0===s?0:s-1,s=0,this.tabs[this.tab].f1&&(this.tabs[this.tab].f1.action=null),this.tabs[this.tab].f2&&(this.tabs[this.tab].f2.action=null),this.tabs[this.tab].f3&&(this.tabs[this.tab].f3.action=null),this.tabs[this.tab].f4&&(this.tabs[this.tab].f4.action=null),this.tabs[this.tab].menu&&(this.tabs[this.tab].menu.action=null),e=0;e<t.length;e++)this.tabs[this.tab][t[e].type]={action:t[e].action},"menu"!==t[e].type&&(this.tabs[this.tab].children[s].children[0].className="iconImg "+t[e].type,this.tabs[this.tab].children[s].children[1].innerText=t[e].title,s++);s&&(this.$info.style.display="block"),i&&s&&this.tabs[this.tab].classList.remove("hidden")},t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},this.value="",this.type=this.TYPE_TEXT,t.className="input "+(t.className||""),t.maxlength=t.maxlength||0,this.autoKeyboard=!0,"undefined"!=typeof t.autoKeyboard&&(this.autoKeyboard=!!t.autoKeyboard),n.call(this,t),this.$line=this.$body.appendChild(document.createElement("div")),this.$line.className="line",this.$caret=this.$line.appendChild(document.createElement("div")),this.$caret.className="caret",this.$placeholder=this.$line.appendChild(document.createElement("div")),this.$placeholder.className="placeholder",this.$caret.index=0,this.init(t),this.autoKeyboard&&(this.addListener("focus",function(){var t=this.$node.getBoundingClientRect();screen.height/2>t.top+t.height?stbWindowMgr.SetVirtualKeyboardCoord("none",t.left,t.top+t.height):stbWindowMgr.SetVirtualKeyboardCoord("none",t.left,t.top-t.height/4-o.data.metrics.keyboardHeight),gSTB.ShowVirtualKeyboard()}),this.addListener("blur",function(){gSTB.IsVirtualKeyboardActive()&&gSTB.HideVirtualKeyboard()}))}var n=i(1),a=i(2),o=i(4);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.TYPE_TEXT=0,s.prototype.TYPE_PASSWORD=1,s.prototype.defaultEvents={keypress:function(t){this.addChar(String.fromCharCode(t.keyCode),this.$caret.index)},keydown:function(t){switch(t.code){case a["delete"]:this.removeChar(this.$caret.index);break;case a.back:this.removeChar(this.$caret.index-1);break;case a.left:this.setCaretPosition(this.$caret.index-1);break;case a.right:this.setCaretPosition(this.$caret.index+1);break;case a.end:case a.down:this.setCaretPosition(this.value.length);break;case a.home:case a.up:this.setCaretPosition(0)}}},s.prototype.init=function(t){t.type&&(this.type=t.type),t.value&&this.setValue(t.value),t.placeholder&&(this.$placeholder.innerText=t.placeholder),this.maxlength=t.maxlength,this.$line.dir=t.direction||"ltr"},s.prototype.addChar=function(t,e){var i=document.createElement("div");e=void 0===e?this.$caret.index:e,0===this.value.length&&this.$line.removeChild(this.$placeholder),(!this.maxlength||e<=this.maxlength)&&(i.className="char",this.value=this.value.substring(0,e)+t+this.value.substring(e,this.value.length),++this.$caret.index,this.type===this.TYPE_PASSWORD?i.innerText="*":" "===t?i.innerHTML="&nbsp;":i.innerText=t,e>=this.value.length?(this.$line.appendChild(i),this.$line.appendChild(this.$caret)):(this.$line.insertBefore(this.$caret,this.$line.children[e]),this.$line.insertBefore(i,this.$caret)),this.events.input&&this.emit("input",{value:this.value}))},s.prototype.removeChar=function(t){var e=this.value;t=void 0===t?this.$caret.index-1:t,this.value.length>0&&(this.$caret.index===t&&t<this.value.length?this.$line.removeChild(this.$line.children[t+1]):this.$caret.index>t&&(--this.$caret.index,this.$line.removeChild(this.$line.children[t])),this.value=this.value.substring(0,t)+this.value.substring(t+1,this.value.length),this.events.input&&e!==this.value&&this.emit("input",{value:this.value})),0===this.value.length&&this.$line.appendChild(this.$placeholder)},s.prototype.setCaretPosition=function(t){t>=0&&t<=this.value.length&&this.$caret.index!==t&&(this.$line.removeChild(this.$caret),t===this.value.length?this.$line.appendChild(this.$caret):this.$line.insertBefore(this.$caret,this.$line.children[t]),this.$caret.index=t)},s.prototype.setValue=function(t){var e,i,s=this.value.length,n=t.length,a=0;if(t!==this.value){if(n>0){if(this.$placeholder.parentNode===this.$line&&this.$line.removeChild(this.$placeholder),this.$line.removeChild(this.$caret),n!==s)if(i=n-s,i>0)for(a=0;i>a;a++)e=this.$line.appendChild(document.createElement("div")),e.className="char";else for(a=0;a>i;a--)this.$line.removeChild(this.$line.lastChild);for(a=0;n>a;a++)e=this.$line.children[a],this.type===this.TYPE_PASSWORD?e.innerHTML="*":" "===t[a]?e.innerHTML="&nbsp;":e.innerText=t[a];this.value=t,this.$caret.index=n,this.$line.appendChild(this.$caret)}else this.value="",this.$line.innerText="",this.$line.appendChild(this.$caret),this.$line.appendChild(this.$placeholder),this.$caret.index=0;this.events.input&&this.emit("input",{value:this.value})}},t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},this.focusIndex=0,t.className="layout "+(t.className||""),this.data=[],a.call(this,t),this.init(t),this.addListener("keydown",function(t){switch(t.code){case o.right:this.children.length&&this.focusIndex<this.children.length-1&&this.children[++this.focusIndex].focus();break;case o.left:this.children.length&&this.focusIndex>0&&this.children[--this.focusIndex].focus();break;case o.back:this.parent.focus(),this.parent&&this.$parentItem&&this.parent.focusItem(this.$parentItem)}})}function n(t){var e,i;for(e=0;e<t.length;e++)i=t[e],"object"!=typeof i?t[e]={value:t[e],wrap:!0}:i instanceof a||i instanceof HTMLElement?t[e]={value:i,wrap:!1}:t[e].wrap=!0;return t}var a=i(1),o=i(2);s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.init=function(t){for(var e,i,s,o=this,r=n(t.data);this.$node.firstChild;)this.$node.removeChild(this.$node.firstChild);for(this.data=r,s=0;s<r.length;s++)e=r[s],"string"==typeof e.value?(i=document.createElement("div"),i.textContent=e.value,e.className&&(i.className=e.className),this.$node.appendChild(i)):e.value instanceof HTMLElement?e.wrap?(i=document.createElement("div"),e.className&&(i.className=e.className),i.appendChild(e.value),this.$node.appendChild(i)):this.$node.appendChild(e.value):e.value instanceof a&&(e.value.propagate=!0,e.value.index=this.children.length,e.value.addListener("click",function(){o.focusIndex=this.index}),e.wrap?(i=document.createElement("div"),e.className&&(i.className=e.className),i.appendChild(e.value.$node),this.$node.appendChild(i),this.children.push(e.value),e.value.parent=this):this.add(e.value))},t.exports=s},function(t,e,i){"use strict";function s(t){var e;t=t||{},this.size=1,this.main=!1,this.index=0,t.className="panelEx "+(t.className||""),t.$body=document.createElement("div"),t.$body.className="body",n.call(this,t),t.size&&(this.size=t.size,this.$node.classList.add("size"+t.size)),t.main&&(this.main=!0,this.$node.classList.add("main")),this.$shadow={left:document.createElement("div"),right:document.createElement("div")},this.$shadow.left.className="shadow left",this.$node.appendChild(this.$shadow.left),this.$shadow.right.className="shadow right",this.$node.appendChild(this.$shadow.right),t.title&&(this.$title=document.createElement("div"),this.$title.className="title",this.$title.innerText=t.title,this.$node.appendChild(this.$title)),this.$node.appendChild(this.$body),e=document.createElement("div"),e.className="overlay",this.$node.appendChild(e)}var n=i(1);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.defaultEvents={focus:function(){this.children.length&&this.children[0].focus()}},s.prototype.focus=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),this.parent.panels[this.parent.focusIndex].$node.classList.remove("top"),n.prototype.focus.call(this),this.parent.focusIndex=this.index,this.$node.classList.add("active"),this.$node.classList.add("top"),0===this.index&&this.parent.panels[1]&&this.parent.panels[1].main?(this.parent.panels[1].$node.classList.remove("position-left"),this.parent.panels[1].$node.classList.add("position-right"),this.parent.panels[2]&&this.parent.panels[2].$node.classList.remove("expand"),this.$node.classList.add("expand")):2===this.index&&this.parent.panels[1].main&&(this.parent.panels[1].$node.classList.remove("position-right"),this.parent.panels[1].$node.classList.add("position-left"),this.parent.panels[0].$node.classList.remove("expand"),this.$node.classList.add("expand"))},s.prototype.blur=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),n.prototype.blur.call(this)},t.exports=s},function(t,e,i){"use strict";function s(t){function e(t){switch(t.code){case a.left:s.focusIndex>0&&s.panels[s.focusIndex-1].focus();break;case a.right:s.focusIndex<s.panels.length-1&&s.panels[s.focusIndex+1].focus()}}var i,s=this;for(t=t||{},t.focusable=t.focusable||!1,t.className="panelSet "+(t.className||""),n.call(this,t),this.panels=t.panels,this.focusIndex=0,t.panels&&!t.panels[0].main&&(t.panels[0].$node.classList.add("left"),t.panels[0].$node.classList.add("expand")),t.panels&&t.panels[1]&&t.panels[1].main&&t.panels[1].$node.classList.add("position-right"),t.panels&&t.panels[2]&&t.panels[1].main&&t.panels[2].$node.classList.add("right"),t.panels&&this.add.apply(this,t.panels),i=0;i<this.panels.length;i++)this.panels[i].addListeners({keydown:e}),this.panels[i].index=i}var n=i(1),a=i(2);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.drawShadow=function(){var t,e,i;for(t=0;t<this.panels.length;t++)t>0&&(this.panels[t].$node.classList.add("leftShadow"),e=this.panels[t-1].$node.offsetHeight,i=this.panels[t-1].$node.offsetTop-this.panels[t].$node.offsetTop,this.panels[t].$node.offsetHeight>e?(this.panels[t].$shadow.left.style.height=this.panels[t-1].$node.offsetHeight+"px",this.panels[t].$shadow.left.style.top=i+"px"):this.panels[t].$shadow.left.style.height=this.panels[t].$node.offsetHeight+"px"),t<this.panels.length-1&&(this.panels[t].$node.classList.add("rightShadow"),e=this.panels[t+1].$node.offsetHeight,i=this.panels[t+1].$node.offsetTop-this.panels[t].$node.offsetTop,this.panels[t].$node.offsetHeight>e?(this.panels[t].$shadow.right.style.height=this.panels[t-1].$node.offsetHeight+"px",this.panels[t].$shadow.right.style.top=i+"px"):this.panels[t].$shadow.right.style.height=this.panels[t].$node.offsetHeight+"px")},s.prototype.focus=function(){n.prototype.focus.call(this),this.panels[this.focusIndex].focus()},s.prototype.blur=function(){this.panels[this.focusIndex].blur()},t.exports=s},function(t,e,i){"use strict";function s(t){var e=this;this.group="group "+o++,this.$checkedData=null,t.className="radioList "+(t.className||""),n.call(this,t),this.addListener("click:item",function(t){var i=t.$item;i.checkBox.set(!0),i.state=i.checkBox.value,i.data.state=i.checkBox.value,e.$checkedData!==i.data&&(e.emit("select",{$last:e.$checkedData,$curr:i}),e.$checkedData.state=!1,e.$checkedData=i.data)})}var n=i(10),a=i(23),o=0;s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.group=0,s.prototype.renderItemDefault=function(t,e){var i=document.createElement("table"),s=document.createElement("tr"),n=document.createElement("td"),o=new a({group:this.group});t.innerHTML="",e.state&&o.set(!0),i.appendChild(s),n.appendChild(o.$node),n.className="checkBoxWrapper",s.appendChild(n),n=document.createElement("td"),n.className="title",n.innerText=e.title||"",s.appendChild(n),t.checkBox=o,t.state=o.value,t.value=e.value,t.appendChild(i)},s.prototype.setData=function(t){var e;for(n.prototype.setData.call(this,t),e=0;e<this.data.length;e++)if(this.data[e].state){this.$checkedData=this.data[e];break}},s.prototype.renderItem=s.prototype.renderItemDefault,t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},this.viewSize=10,this.realSize=100,this.value=0,this.type=this.TYPE_VERTICAL,this.thumbRect=null,this.trackRect=null,t.focusable=t.focusable||!1,t.className="scrollBar "+(t.className||""),t.type&&(this.type=t.type),this.type===this.TYPE_HORIZONTAL&&(t.className+=" horizontal"),n.call(this,t),this.$thumb=this.$body.appendChild(document.createElement("div")),this.$thumb.className="thumb",this.init(t)}var n=i(1);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.TYPE_VERTICAL=1,s.prototype.TYPE_HORIZONTAL=2,s.prototype.init=function(t){t=t||{},void 0!==t.realSize&&(this.realSize=t.realSize),void 0!==t.viewSize&&(this.viewSize=t.viewSize),this.viewSize>=this.realSize?this.$thumb.classList.add("hidden"):this.$thumb.classList.remove("hidden"),void 0!==t.value&&this.scrollTo(t.value),this.type===this.TYPE_VERTICAL?this.$thumb.style.height=this.viewSize/this.realSize*100+"%":this.$thumb.style.width=this.viewSize/this.realSize*100+"%",this.thumbRect=this.$thumb.getBoundingClientRect(),this.trackRect=this.$node.getBoundingClientRect()},s.prototype.scrollTo=function(t){return this.value!==t?(0!==this.thumbRect.height&&0!==this.thumbRect.width||(this.trackRect=this.$node.getBoundingClientRect(),this.thumbRect=this.$thumb.getBoundingClientRect()),this.type===this.TYPE_VERTICAL?this.$thumb.style.marginTop=(this.trackRect.height-this.thumbRect.height)*t/(this.realSize-this.viewSize)+"px":this.$thumb.style.marginLeft=(this.trackRect.width-this.thumbRect.width)*t/(this.realSize-this.viewSize)+"px",this.events.change&&this.emit("change",{curr:t,prev:this.value}),t>=this.realSize&&(t=this.realSize,this.events.done&&this.emit("done")),this.value=t,!0):!1},t.exports=s},function(t,e){"use strict";t.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48,keyboardWidth:558,keyboardHeight:311},576:{height:576,width:720,availTop:24,availBottom:24,availRight:26,availLeft:54,keyboardWidth:558,keyboardHeight:311},720:{height:720,width:1280,availTop:30,availBottom:30,availRight:40,availLeft:40,keyboardWidth:818,keyboardHeight:311},1080:{height:1080,width:1920,availTop:45,availBottom:45,availRight:60,availLeft:60,keyboardWidth:1227,keyboardHeight:467}}},function(t,e){"use strict";t.exports=function(t,e){function i(i,r){var c=function(c,l){return c?(s=!0,void("function"==typeof e&&e(c))):(a[r]=l,i.name&&(o[i.name]=l),n++,void(n>=t.length&&"function"==typeof e&&e(null,a,o)))};s||(0===i.length?c(null,i()):i(c))}var s=!1,n=0,a=[],o={};t=Array.isArray(t)?t:[],0===t.length?"function"==typeof e&&e(null,a,o):t.forEach(i)}}]);