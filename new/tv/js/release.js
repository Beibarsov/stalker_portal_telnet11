/*! tv: v0.6.4 (webpack: v1.13.0) */
!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var n=i(4),s=(i(2),i(5));n.addListeners({load:function(){i(15).load({name:core.environment.language||"en"},function(e){s.init([i(12)]),s.pages.forEach(function(e){!e.emit,e.emit("load")}),s.navigate("pageChannels")}),window._=window.gettext},done:function(){}}),n.addListener("keydown",function(e){})},function(e,t,i){"use strict";function n(e){var t,i=this;if(e=e||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!e.propagate,s.call(this,e.data),this.$node=e.$node||document.createElement("div"),this.$body=e.$body||this.$node,this.$node.className+=" component "+(e.className||""),this.id=e.id||this.$node.id||"cid"+o++,e.parent&&e.parent.add(this),e.visible===!1&&this.hide(),e.focusable===!1&&(this.focusable=!1),this.defaultEvents){e.events=e.events||{};for(t in this.defaultEvents)e.events[t]=e.events[t]||this.defaultEvents[t]}e.events&&this.addListeners(e.events),e.children&&this.add.apply(this,e.children),this.$node.addEventListener("click",function(e){0===e.button&&(i.focus(),i.events.click&&i.emit("click",{event:e})),e.stopPropagation()})}var s=i(3),a=i(5),o=0;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.defaultEvents=null,n.prototype.add=function(e){var t;for(t=0;t<arguments.length;t++)e=arguments[t],this.children.push(e),e.parent=this,e.$node&&null===e.$node.parentNode&&this.$body.appendChild(e.$node),this.events.add&&this.emit("add",{item:e})},n.prototype.remove=function(){this.parent&&(a.current.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(e){e.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.events.remove&&this.emit("remove")},n.prototype.focus=function(e){var t=a.current,i=t.activeComponent;return this.focusable&&this!==i?(i&&i.blur(),t.activeComponent=i=this,i.$node.classList.add("focus"),i.events.focus&&i.emit("focus",e),!0):!1},n.prototype.blur=function(){var e=a.current,t=e.activeComponent;return this.$node.classList.remove("focus"),this===t?(e.activeComponent=null,this.events.blur&&this.emit("blur"),!0):!1},n.prototype.show=function(e){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.events.show&&this.emit("show",e),!0)},n.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.events.hide&&this.emit("hide"),!0):!0},e.exports=n},function(e,t){"use strict";e.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(e,t,i){"use strict";function n(){this.events={}}n.prototype={addListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},once:function(e,t){var i=this;this.events[e]=this.events[e]||[],this.events[e].push(function n(){t.apply(this,arguments),i.removeListener(e,n)})},addListeners:function(e){var t;if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&this.addListener(t,e[t])},removeListener:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}),0===this.events[e].length&&(this.events[e]=void 0))},removeAllListeners:function(e){0===arguments.length?this.events={}:e&&(this.events[e]=void 0)},emit:function(e,t,i){var n,s=this.events[e];if(s)for(n=0;n<s.length;n++)s[n].apply(this,Array.prototype.slice.call(arguments,1))}},n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";var n,s,a,o,r=i(16),c=i(5),d=i(2),l=i(27),h={};i(18),window.core=window.parent.getCoreInstance(window),window.core.once("load",function(){n.data.time.load&&n.defaultEvents.load({type:"load"})}),window.parent&&window.parent.gSTB&&(window.dvbManager=window.parent.dvbManager,window.epgManager=window.parent.epgManager,window.gSTB=window.parent.gSTB,window.pvrManager=window.parent.pvrManager,window.stbDownloadManager=window.parent.stbDownloadManager,window.stbStorage=window.parent.stbStorage,window.stbUpdate=window.parent.stbUpdate,window.stbUPnP=window.parent.stbUPnP,window.stbWebWindow=window.parent.stbWebWindow,window.stbWindowMgr=window.parent.stbWindowMgr,window.timeShift=window.parent.timeShift),n=new r({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),n.setScreen=function(e){return e?(e.availHeight=e.height-(e.availTop+e.availBottom),e.availWidth=e.width-(e.availLeft+e.availRight),window.moveTo(0,0),window.resizeTo(e.width,e.height),a&&a instanceof HTMLLinkElement&&document.head.removeChild(a),o&&o instanceof HTMLLinkElement&&document.head.removeChild(o),o=document.createElement("link"),o.rel="stylesheet",o.href=window.core.theme.path+e.height+".css?"+ +new Date,document.head.appendChild(o),a=document.createElement("link"),a.rel="stylesheet",a.href="css/release."+e.height+".css?"+ +new Date,document.head.appendChild(a),this.data.metrics=e,!0):!1},n.setScreen(l[screen.height]||l[720]);for(s in d)"volumeUp"!==s&&"volumeDown"!==s&&(h[d[s]]=!0);n.defaultEvents={load:function(e){n.data.time.load=e.timeStamp,window.core.ready&&(n.events[e.type]&&n.emit(e.type,e),c.pages.forEach(function(t){t.events[e.type]&&t.emit(e.type,e)}),n.data.time.done=+new Date,n.events.done&&n.emit("done",e))},unload:function(e){n.events[e.type]&&n.emit(e.type,e),c.pages.forEach(function(t){t.events[e.type]&&t.emit(e.type,e)})},error:function(e){},keydown:function(e){var t,i=c.current,s={keyCode:e.keyCode,stop:e.stop,shiftKey:e.shiftKey,altKey:e.altKey,type:e.type,"native":e};0!==s.keyCode&&(s.code=s.keyCode,s.shiftKey&&(s.code+=1e3),s.altKey&&(s.code+=2e3),t=i.activeComponent,t&&t!==i&&(t.events[s.type]&&t.emit(s.type,s),!s.stop&&t.propagate&&t.parent&&t.parent.events[s.type]&&t.parent.emit(s.type,s)),s.stop||(i.events[s.type]&&i.emit(s.type,s),s.stop||n.events[s.type]&&n.emit(s.type,s)),n.data.host&&h[s.code]&&e.preventDefault())},keypress:function(e){var t=c.current;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e)},click:function(e){},contextmenu:function(e){e.preventDefault()},mousewheel:function(e){var t=c.current;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e),e.stop||t.events[e.type]&&t.emit(e.type,e)}};for(s in n.defaultEvents)window.addEventListener(s,n.defaultEvents[s]);n.show=function(){this.events.show&&this.emit("show"),window.core.call("app:ready")},n.exit=function(e){var t,s=i(8),a=i(6),o=c.current.activeComponent;c.current.add(t=new s({title:gettext("Exit"),events:{show:function(){this.children[0].focus()},hide:function(){o.focus()}},children:[new a({size:2,focusIndex:0,className:"exitModal",data:[{items:[{value:gettext("Exit")}],click:function(){return"function"==typeof e&&e(!0)?(t.hide(),void t.remove()):(n.events.exit&&n.emit("exit"),t.hide(),t.remove(),void core.call("exit"))}},{items:[{value:gettext("Cancel")}],click:function(){"function"==typeof e&&e(!1),t.hide(),t.remove()}}],events:{keydown:function(i){a.prototype.defaultEvents.keydown.call(this,i),i.code===d.back&&(i.stop=!0,"function"==typeof e&&e(!1),t.hide(),t.remove())}}})]})),t.show(),t.focus()},window.gSTB&&gSTB.SetNativeStringMode&&gSTB.SetNativeStringMode(!0),e.exports=n},function(e,t,i){"use strict";var n,s=i(3);n=new s,n.current=null,n.history=[],n.pages=[],n.ids={},n.init=function(e){var t,i,n;if(e){for(this.pages=[],this.pages=e,t=0,i=e.length;i>t;t++)n=e[t],this.ids[n.id]=n,n.active&&(this.current=n);return this.events.init&&this.emit("init",{pages:e}),!0}return!1},n.parse=function(e){var t={name:"",data:[]};return t.data=e.split("/").map(decodeURIComponent),t.name=t.data.shift().slice(1),t},n.stringify=function(e,t){return t=Array.isArray(t)?t:[],e=encodeURIComponent(e),t=t.map(encodeURIComponent),t.unshift(e),t.join("/")},n.show=function(e,t){return e&&!e.active?(e.$node.classList.add("active"),e.active=!0,this.current=e,e.events.show&&e.emit("show",{page:e,data:t}),!0):!1},n.hide=function(e){return e&&e.active?(e.$node.classList.remove("active"),e.active=!1,this.current=null,e.events.hide&&e.emit("hide",{page:e}),!0):!1},n.navigate=function(e,t){var i=this.current,n=this.ids[e];return n&&!n.active?(location.hash=this.stringify(e,t),this.hide(this.current),this.show(n,t),this.events.navigate&&this.emit("navigate",{from:i,to:n}),this.history.push(n),!0):!1},n.back=function(){var e,t;return this.history.length>1&&(e=this.history.pop(),t=this.history[this.history.length-1],t&&!t.active)?(location.hash=t.id,this.hide(this.current),this.show(t),this.events.navigate&&this.emit("navigate",{from:e,to:t}),!0):!1},e.exports=n},function(e,t,i){"use strict";function n(e){var t=this;e=e||{},this.handlers={},this.$noData=null,e.className="layoutList "+(e.className||""),e.propagate=e.propagate||!0,this.fixedData=e.fixedData||!1,e.$body=document.createElement("div"),e.$body.className="body",this.$noData=document.createElement("div"),this.$noData.className="noData hidden",s.call(this,e),this.$node.appendChild(this.$body),this.$node.appendChild(this.$noData),this.addListener("click:item",function(e){e.$item.layout.children.length&&!e.inner&&e.$item.layout.children[e.$item.layout.focusIndex].focus(),e.inner&&(t.focus(),t.focusItem(e.$item)),t.handlers[e.$item.index]&&t.handlers[e.$item.index](e.$item)})}var s=i(7),a=i(22);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.renderItemDefault=function(e,t){var i,n;if(e.ready&&this.fixedData&&!e.innerHTML.length)for(n=0;n<t.items.length;n++)"string"==typeof t.items[n].value&&(e.layout.$node.childNodes[n].innerText=t.items[n].value,e.layout.$node.childNodes[n].className=t.items[n].className);else{for(;e.firstChild;)e.removeChild(e.firstChild);i=new a({focusable:!1,data:t.items}),e.appendChild(i.$node),e.layout=i,i.parent=this,i.$parentItem=e,i.addListener("click",function(){this.parent.emit("click:item",{$item:e,inner:!0})}),t.click&&(this.handlers[e.index]=t.click),e.ready=!0}e.value=t.value||{}},n.prototype.setData=function(e){s.prototype.setData.call(this,e),e.data&&e.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},n.prototype.init=function(e){var t;s.prototype.init.call(this,e),e.noData&&(this.$noData.innerHTML="",e.noData instanceof Element?this.$noData.appendChild(e.noData):"string"==typeof e.noData&&(t=document.createElement("div"),t.innerText=e.noData,this.$noData.appendChild(t)))},n.prototype.renderItem=n.prototype.renderItemDefault,e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,e.type&&(this.type=e.type),this.provider=null,e.className="list "+(e.className||""),this.type===this.TYPE_HORIZONTAL&&(e.className+=" horizontal"),a.call(this,e),this.init(e)}function s(e){var t,i;for(t=0;t<e.length;t++)i=e[t],"object"!=typeof i&&(i=e[t]={value:e[t]});return e}var a=i(1),o=i(2);n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.renderItemDefault=function(e,t){e.innerText=t.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.defaultEvents={mousewheel:function(e){this.type===this.TYPE_VERTICAL&&e.wheelDeltaY&&this.move(e.wheelDeltaY>0?o.up:o.down),this.type===this.TYPE_HORIZONTAL&&e.wheelDeltaX&&this.move(e.wheelDeltaX>0?o.left:o.right)},keydown:function(e){switch(e.code){case o.up:case o.down:case o.right:case o.left:case o.pageUp:case o.pageDown:case o.home:case o.end:this.move(e.code);break;case o.ok:this.events["click:item"]&&this.$focusItem&&this.emit("click:item",{$item:this.$focusItem,event:e})}}},n.prototype.init=function(e){var t,i,n=this,s=this.$body.children.length,a=function(e){this.data&&(n.focusItem(this),n.events["click:item"]&&n.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycle&&(this.cycle=e.cycle),e.scroll&&(this.scroll=e.scroll),e.provider&&(this.provider=e.provider),e.render&&(this.renderItem=e.render),e.size&&(this.size=e.size),this.size!==s)for(s>0&&(this.$body.innerText=null),i=0;i<this.size;i++)t=document.createElement("div"),t.index=i,t.className="item",t.addEventListener("click",a),this.$body.appendChild(t);void 0!==e.viewIndex,this.viewIndex=null,this.provider?this.provider.get(null,function(t,i){t?n.events["data:error"]&&n.emit("data:error",t):(i&&(e.data=i,n.setData(e),n.scroll&&n.scroll.init({realSize:n.provider.maxCount,viewSize:n.provider.size,value:n.provider.head+n.provider.pos})),n.events["data:get"]&&n.emit("data:get"))}):e.data&&this.setData(e)},n.prototype.setData=function(e){e.data&&(this.data=s(e.data)),this.viewIndex=null,this.$focusItem&&this.blurItem(this.$focusItem),this.scroll&&!this.provider&&this.scroll.init({realSize:this.data.length,viewSize:this.size,value:e.viewIndex||0}),void 0!==e.focusIndex&&this.data.length?this.focusIndex(e.focusIndex):this.renderView(e.viewIndex||0)},n.prototype.renderView=function(e){var t,i,n,s,a;if(this.viewIndex!==e){for(s=this.viewIndex,this.viewIndex=a=e,i=0;i<this.size;i++)t=this.$body.children[i],n=this.data[e],n?(t.data=n,t.index=e,this.renderItem(t,n),n.mark?t.classList.add("mark"):t.classList.remove("mark")):(t.data=t.index=void 0,t.innerHTML="&nbsp;",t.ready=!1),e++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:s,currIndex:a}),this.events["select:item"]&&this.emit("select:item",{$item:t}),this.scroll&&this.scroll.scrollTo(this.provider?this.provider.head+this.provider.pos:this.viewIndex),!0}return!1},n.prototype.move=function(e){var t=this,i=!1;if(this.data.length)switch(e){case o.left:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case o.up:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.provider?this.provider.get(e,function(e,i,n){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:n||0===n?n:t.$focusItem.index})}):(this.cycle&&this.move(o.end),this.events.overflow&&this.emit("overflow",{direction:e,cycle:this.cycle})));break;case o.right:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case o.down:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.provider?this.provider.get(e,function(e,i,n){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:n||0===n?n:t.$focusItem.index})}):(this.cycle&&this.move(o.home),this.events.overflow&&this.emit("overflow",{direction:e,cycle:this.cycle})));break;case o.pageUp:if(this.provider)return void this.provider.get(e,function(e,i,n){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:n?n:0})});this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case o.pageDown:if(this.provider){this.provider.get(e,function(e,i,n){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:n||0===n?n:i.length<t.size?i.length-1:t.size-1})});break}this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]);break;case o.home:if(this.provider){this.provider.get(e,function(e,i,n){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:n?n:0})});break}this.renderView(0),this.focusItem(this.$body.firstChild);break;case o.end:if(this.provider){this.provider.get(e,function(e,i,n){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:n||0===n?n:i.length<t.size?i.length-1:t.size-1})});break}this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])}},n.prototype.focusItem=function(e){var t=this.$focusItem;return e&&t!==e?(null!==t&&(t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.$focusItem=e,this.$focusItem.data=this.data[this.$focusItem.index],e.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),this.events["select:item"]&&this.emit("select:item",{$item:e}),!0):!1},n.prototype.blurItem=function(e){return e?(e===this.$focusItem&&(this.$focusItem=null),e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e}),!0):!1},n.prototype.focusIndex=function(e){var t=this.viewIndex||0;e>=t+this.size?(e=e<this.data.length-1?e:this.data.length-1,this.renderView(e-this.size+1),this.focusItem(this.$body.lastChild)):t>e?(e=e>0?e:0,this.renderView(e),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[e-t]))},n.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=n},function(e,t,i){"use strict";function n(e){var t;e=e||{},e.focusable=e.focusable||!1,e.className="modalMessage "+(e.className||""),e.visible=e.visible||!1,e.$body=document.createElement("div"),e.$body.className="body",s.call(this,e),this.$node.appendChild(document.createElement("div")),this.$node.firstChild.classList.add("alignBox"),this.$node.firstChild.appendChild(document.createElement("div")),this.$header=document.createElement("div"),this.$header.className="header",this.$text=this.$header.appendChild(document.createElement("div")),this.$text.classList.add("text"),this.$text.innerText=e.title||"",e.icon&&(this.$icon=this.$header.appendChild(document.createElement("div")),this.$icon.className="icon "+e.icon),t=document.createElement("div"),t.className="overlay",this.$node.firstChild.firstChild.appendChild(this.$header),this.$node.firstChild.firstChild.appendChild(this.$body),this.$node.firstChild.firstChild.appendChild(t)}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.focus=function(){this.$node.classList.add("active"),s.prototype.focus.call(this),this.children[0]&&this.children[0]instanceof s&&this.children[0].focus()},n.prototype.blur=function(){this.$node.classList.remove("active"),s.prototype.blur.call(this)},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.active=!1,this.activeComponent=null,e.className="page "+(e.className||""),s.call(this,e),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";function n(e){var t,i=[];if(!e||e.length<1)return[];for(t=0;t<e.length;t++)i[t]={items:[{className:"number",value:e[t].number.toString()},{className:"title",value:e[t].name},{className:"icon "+(e[t].favorite?"theme-favorite-icon-active":"theme-favorite-icon"),value:e[t].favorite?"C":"D"}],value:e[t]};return i}var s=i(3),a=i(17),o=new s;o.url=core.stalker.host+"/stalker_portal/api/api_v2.php?_resource=",o.session={token:"Bearer ",userId:0},o.tv={channels:[],request:null,config:{sort:!1,genre:"",favorite:!1,search:"",limit:7},getList:function(e,t,i){var s="tv-channels";s+="?favorite="+(e.favorite?"true":"false"),e.genre&&(s+="&genreId="+e.genre),e.search&&(s+="&search="+e.search),s+="&offset="+(e.offset?e.offset:"0")+"&limit="+(e.limit?e.limit:this.config.limit),s+="&t="+ +new Date,this.request&&this.request.abort(),this.request=core.stalker.request(s,{onload:function(i,s){var a;return i?void t(!0,[]):(a=s.data,e.byName&&(a=a.sort(function(e,t){return e.name>t.name?1:-1})),o.tv.channels=a,void t(!1,n(a),i?null:s.paging.total))},onerror:function(){t(!0,[])}})},getLink:function(e,t,i){void 0===e&&t?t(!0,null):core.stalker.request("tv-channels/"+e+"/link",{onload:function(e,i){e?t(!0,null):t(!1,i.data)},onerror:i})},getNumber:function(e,t){core.stalker.request("tv-channels?fromNumber="+e,{onload:function(i,n){return i&&t?void t(!0,!1):void(n.data&&n.data[0]&&n.data[0].number==e?t(!1,n.paging.offset):t(!0,null))},onerror:function(){t&&t(!0,!1)}})},getLastChannel:function(e){core.stalker.request("storage/lastChannel",{method:"GET",onload:function(t,i){t&&e?e(t,null):e&&i.data.value&&e(!1,i.data.value)},onerror:function(){e&&e(!0,null)}})},setLastChannel:function(e,t){core.stalker.request("storage",{body:JSON.stringify({value:e.number,key:"lastChannel"}),method:"POST",onload:function(e){e&&t?t(e,!1):t&&t(!1,!0)},onerror:function(){t&&t(!0,null)}})}},o.tv.favorite={getList:function(e){a.ajax(o.url+"/users/"+o.session.userId+"/tv-favorites",{method:"GET",headers:{Accept:"application/json",Authorization:o.session.token},onload:function(t){try{t=JSON.parse(t)}catch(i){return void e(!0)}e(!1,t.results)}})},toggle:function(e,t){core.stalker.request("tv-channels/"+e.id,{method:"PUT",body:JSON.stringify({favorite:e.state}),onload:function(e,i){e?t(!0,!1):t(!1,!0)},onerror:function(){t(!0)}})}},o.tv.genre={getList:function(e){core.stalker.request("tv-genres",{onload:function(t,i){return t?void e(!0,[]):void e(!1,i.data)},onerror:function(){e(!0,[])}})}},o.tv.statistics={send:function(e){core.stalker.request("media-info",{method:"POST",body:JSON.stringify({type:"tv-channel",media_id:e}),onload:function(e,t){}})},stop:function(){core.stalker.request("media-info",{method:"DELETE",onload:function(e,t){}})}},o.tv.getEpg=function(e,t){var i,n,s,a=new Date;n=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),s=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+1),n=Math.round(n/1e3),s=Math.round(s/1e3),i="tv-channels/"+e.id+"/epg?from="+n+"&to="+s,core.stalker.request(i,{onload:function(e,i){e?t(!0,[]):t(!1,i.data)},onerror:function(){t(!0,[])}})},o.tv.getEpgLink=function(e,t){var i="tv-channels/"+e.channelId+"/epg/"+e.epgId+"/link";core.stalker.request(i,{onload:function(e,i){e?t(!0,[]):t(!1,i.data)},onerror:function(){t(!0,[])}})},e.exports=o},function(e,t,i){"use strict";function n(){var e=new Date;h.innerText=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}var s,a=i(26),o=document.getElementById("titleWidget"),r=new a({$node:o,visible:!0,focusable:!1}),c=document.getElementById("titleWidgetNumber"),d=document.getElementById("titleWidgetName"),l=document.getElementById("titleWidgetFavorite"),h=document.getElementById("titleWidgetTime");r.set=function(e){e=e||{},d.innerText=e.name||"",c.innerText=e.number||"",l.innerText=e.favorite?"C":" ",e.epg&&(d.innerText+="\n"+e.epg)},r.display=function(e,t){t=t||5e3,r.visible||r.show(),e.background&&o.classList.add("bg"),clearTimeout(s),s=setTimeout(function(){e.background},t)},n(),setInterval(n,35e3),e.exports=r},function(e,t,i){"use strict";function n(e){var t,i=[];if(!e||e.length<1)return[];for(t=0;t<e.length;t++)i[t]={items:[{className:"number",value:e[t].number.toString()},{className:"title",value:e[t].name},{className:"icon "+(e[t].favorite?"theme-favorite-icon-active":"theme-favorite-icon"),value:e[t].favorite?"C":"D"}],value:e[t]};return i}function s(e,t){t=t||{},N.once("data:get",function(){var t;e&&e(),N.$focusItem&&(t=N.$focusItem.data.value.id,Z.tv.getEpg({id:t},function(e,t){var i,n=new Date/1e3;for(clearInterval(ne.epgUpdateTimeout),m(e,t),ne.epgUpdateTimeout=setInterval(g,se),i=0;i<t.length;i++)t[i].start<n&&t[i].end>n&&i-3>0&&L.renderView(i-3)}))}),ne.config.offset=t.offset||0,ne.config.limit=0,window.p=new J({pageSize:X.size,cacheSize:X.pages,request:ne.config,getter:a,cycle:!0,pos:t.pos||0,onCycle:function(e){e.direction===G.up&&(ne.provider.focus=0)}}),N.init({provider:window.p,focusIndex:0})}function a(e,t){Z.tv.getList(t,e)}function o(){var e;ne.provider.focus<6?(e=ne.provider.instance.data[++ne.provider.focus].value,ne.setChannel(e,{osd:!0})):ne.provider.instance.get(G.down,function(t,i){0===ne.provider.focus?(e=ne.provider.instance.data[ne.provider.focus].value,ne.setChannel(e,{osd:!0})):(e=i[i.length-1].value,ne.setChannel(e,{osd:!0}),ne.provider.focus++)})}function r(){var e;return 0===ne.provider.focus?void(ne.provider.instance.pos<=7&&0!==ne.provider.instance.pos?(ne.provider.focus=6,r()):0==ne.provider.instance.pos?ne.provider.instance.goEnd(function(t,i,n){!t&&i?(e=i[i.length-1].value,ne.setChannel(e,{osd:!0}),ne.provider.focus=n):ne.setChannel(ne.current,{force:!0,osd:!0})}):ne.provider.instance.get(G.up,function(t,i){e=i[i.length-1].value,ne.setChannel(e,{osd:!0})})):void(ne.provider.focus<=6?(e=ne.provider.instance.data[--ne.provider.focus].value,ne.setChannel(e,{osd:!0})):ne.provider.instance.get(G.up,function(t,i){e=i[i.length-1].value,ne.setChannel(e,{osd:!0}),ne.provider.focus--}))}function c(){core.intent({action:"record",data:{uri:N.$focusItem.data.value.url,name:N.$focusItem.data.value.name,id:N.$focusItem.data.value.id,pvr:{server:N.$focusItem.data.value.pvr,local:N.$focusItem.data.value.local_pvr}}},function(){})}function d(){core.intent({action:"record",data:{uri:N.$focusItem.data.value.url,name:N.$focusItem.data.value.name,epgName:L.$focusItem.data.value.name,startTime:L.$focusItem.data.value.start,endTime:L.$focusItem.data.value.end,id:N.$focusItem.data.value.id,pvr:{server:N.$focusItem.data.value.pvr,local:N.$focusItem.data.value.local_pvr}}},function(e,t){})}function l(e,t){Q=!0,clearTimeout(te),te=setTimeout(function(){Q=!1},ee),core.intent({action:"osd-input",data:{type:"numbers",length:4,startChar:e},events:{done:function(e){}}},function(e){var i,n,a;for(a=0;a<N.$body.children.length;a++)if(i=N.$body.children[a],i.data.value.number==e){n=i.index;break}return void 0!==n?(N.focusIndex(n),ne.provider.instance=$(N.provider),ne.provider.focus=N.$focusItem.index,ne.setChannel(N.$focusItem.data.value,{osd:t,silent:!0}),void(Q=!1)):void Z.tv.getNumber(e,function(e,i){e?(Q=!1,core.notify({title:_("No such channel number"),icon:"alert",type:"warning",timeout:1e3})):s(function(){ne.provider.instance=$(N.provider),ne.provider.focus=N.$focusItem.index,ne.setChannel(N.$focusItem.data.value,{silent:!0,osd:t}),Q=!1},{offset:i})})})}function h(){Z.tv.getEpgLink({channelId:N.$focusItem.data.value.id,epgId:L.$focusItem.data.value.id},function(e,t){!e&&t.url&&(b=core.intent({action:"play",mime:"content/video",data:{uri:t.url,title:L.$focusItem.data.value.name,persistent:!0},context:null,events:{close:function(){ne.context=null,x&&x.close()},next:function(){L.emit("keydown",{code:G.down}),L.$focusItem.data.value.in_archive&&h()},prev:function(){L.emit("keydown",{code:G.up}),L.$focusItem.data.value.in_archive&&h()},nextChannel:o,prevChannel:r}},function(e,t){ne.context=t}))})}function u(){var e=new Date/1e3;L.$focusItem&&(L.$focusItem.data.value.in_archive?(M.init([{title:_("Play"),type:"f2",action:function(){h()}}]),M.show()):L.$focusItem.data.value.start>e&&(N.$focusItem.data.value.pvr||N.$focusItem.data.value.local_pvr)?(M.init([{title:_("Record"),type:"f1",action:function(){L.$focusItem&&d()}}]),M.show()):M.hide())}function p(){var e,t=j.children[0],i=new Date/1e3,n=[];if(L.$focusItem){if(e=L.$focusItem.data.value,e.in_archive)n[0]={items:w("","Play","icon f2"),click:function(){h(),j.hide()}};else{if(!(e.start>i&&(N.$focusItem.data.value.pvr||N.$focusItem.data.value.local_pvr)))return;n[0]={items:w("","Record","icon f1"),click:function(){d(),j.hide()}}}t.init({data:n,size:n.length,focusIndex:0}),j.show()}}function f(){V.show(),Z.tv.getLastChannel(function(e,t){e&&!t?s(function(){ne.setChannel(N.$focusItem.data.value,{silent:!0}),ne.provider.instance=$(N.provider),ne.provider.focus=N.$focusItem.index}):Z.tv.getNumber(t,function(e,t){e?s(function(){ne.setChannel(N.$focusItem.data.value,{silent:!0}),ne.provider.instance=$(N.provider),ne.provider.focus=N.$focusItem.index}):s(function(){ne.provider.instance=$(N.provider),ne.provider.focus=N.$focusItem.index,ne.setChannel(N.$focusItem.data.value,{silent:!0}),Q=!1},{offset:t})})})}function v(e){Z.tv.setLastChannel({number:e},function(){})}function m(e,t){var i,n,s,a,o,r="",c=[],d=new Date/1e3;if(N.$focusItem){for(s=0;s<t.length;s++)i=t[s],a="time",i.start&&(r=new Date(1e3*i.start),r=("0"+r.getHours()).slice(-2)+":"+("0"+r.getMinutes()).slice(-2)),i.in_archive?a+=" green":(N.$focusItem.data.value.pvr||N.$focusItem.data.value.local_pvr)&&i.start>d&&(a+=" red"),o=i.start<d&&i.end>d,c[s]={items:[{className:a+(o?" isPlaying":""),value:r},{className:"title"+(o?" isPlaying":""),value:i.name}],value:i};n={data:c,size:7},t.length&&(n.focusIndex=0),L.setData(n)}}function g(){var e,t;L.data.length&&(e=L.viewIndex,t=L.$focusItem.index,N.$focusItem&&Z.tv.getEpg({id:N.$focusItem.data.value.id},function(i,n){var s,a=new Date/1e3;if(m(i,n),R.activeComponent===L)e>0&&L.renderView(e),L.focusIndex(t);else for(s=0;s<n.length;s++)n[s].start<a&&n[s].end>a&&s-3>0&&L.renderView(s-3)}))}function y(){var e=E.$body.children[1].children[0].children[0],t=E.$body.children[2].children[0].children[1];(ne.config.search||ne.config.favorite||ne.config.genre)&&(e.innerText="D",k.setValue(""),ne.config.search=!1,ne.config.favorite=!1,t.innerText=_("All categories"),ne.config.genre=!1,C.focusIndex(0),s())}function $(e){var t;return t=new J({pageSize:X.size,cacheSize:X.pages,request:e.config,getter:e.getter}),t.data=e.data,t.head=e.head,t.tail=e.tail,t.pos=e.pos,t.botEmptyLine=e.botEmptyLine,t.headItem=e.headItem,t.cycle=e.cycle,t.onCycle=e.onCycle,t.maxCount=e.maxCount,t}function w(e,t,i){return[{value:e,className:"icon "+(i?i:"")},{value:_(t)}]}var b,x,I,k,C,N,L,E,T,z,D,S,O,P,M,j,H="pageChannels",B=i(9),R=new B({$node:document.getElementById(H)}),V=i(4),A=i(24),q=i(23),U=i(6),W=i(25),Y=i(8),K=i(21),F=i(20),J=i(13),X={size:7,pages:2},Z=i(10),G=i(2),Q=!1,ee=1500,te=null,ie=i(11),ne={provider:{instance:null,focus:null},config:{favorite:!1,byName:!1,genre:!1,search:!1},list:[],current:null,epgTimeout:null,epgFocusTimeout:null,epgUpdateTimeout:null,context:null,lastChannelTimeout:null,setChannel:function(e,t){function i(e){null===ne.current||e.id!==ne.current.id||t.force||(e.url=""),Z.tv.statistics.stop(),b=core.intent({action:"play",mime:"content/video",silent:t.silent,data:{uri:e.url,title:e.name,solution:e.solution||"auto",headless:!0,persistent:!0},context:void 0===t.context?ne.context:t.context,events:{nextChannel:o,prevChannel:r,onInfoPress:function(){core.intent({action:"osd-tv",data:{name:e.name,number:e.number,favorite:e.favorite,attach:!0}},function(){})},close:function(){var e,t,i;for(ne.context=null,x&&x.close(),N.setData({data:ne.provider.instance.data.slice(ne.provider.instance.pos,ne.provider.instance.pos+ne.provider.instance.size)}),N.provider=ne.provider.instance,i=0;i<N.$body.children.length;i++)if(e=N.$body.children[i],e.data.value.id===ne.current.id){t=e.index;break}t=void 0!==t?t:6,N.focusIndex(t)},onNumberPress:function(e){l(e.number,!0)},start:function(){clearTimeout(ne.lastChannelTimeout),ne.lastChannelTimeout=setTimeout(function(){v(e.number),Z.tv.statistics.send(e.id)},oe)}}},function(e,t){ne.context=t})}t=t||{},e.url?(i(e),ne.current=e):Z.tv.getLink(e.id,function(t,n){var s={id:e.id,name:e.name,number:e.number,favorite:e.favorite};return t?void core.notify({title:"Error getting channel link",icon:"alert",type:"warning",timeout:2e3}):(s.url=n.url,s.solution=n.solution,i(s),void(ne.current=e))}),ie.set(e),t.osd&&(x=core.intent({action:"osd-tv",data:{name:dynamicChannelObj.name,
number:dynamicChannelObj.number,favorite:dynamicChannelObj.favorite}},function(){}))}},se=6e4,ae=300,oe=1e3;window.tv=ne,core.addListener("close",function(){Z.tv.statistics.stop(),b&&b.emit("exit")}),core.addListener("hide",function(){Z.tv.statistics.stop(),b&&b.emit("exit")}),core.addListener("exit",function(){Z.tv.statistics.stop(),b&&b.emit("exit")}),core.addListener("maximize",function(){var e=ne.current;ne.current=null,ne.setChannel(e,{silent:!0})}),R.add(S=new Y({visible:!1,title:_("Categories"),className:"categoryList",events:{show:function(){this.focus(),this.children[0].focus(),M.hide()}},children:[C=new U({size:5,cycle:!0,events:{"click:item":function(e){ne.config.genre=e.$item.data.value.id,T.children[0].$focusItem.layout.$node.children[1].innerText=e.$item.data.value.name,s(function(){S.hide(),T.focus()})},keydown:function(e){switch(U.prototype.defaultEvents.keydown.call(this,e),e.code){case G.back:S.hide(),T.focus(),e.stop=!0;break;case G.f1:e.stop=!0}}}})]}),O=new Y({visible:!1,title:_("Sort"),events:{show:function(){this.focus(),this.children[0].focus(),M.hide()}},children:[new W({focusIndex:0,size:2,cycle:!0,data:[{state:!0,title:_("By number"),value:!1},{state:!1,title:_("By name"),value:!0}],events:{select:function(e){e.$curr===e.$last?(O.hide(),T.focus()):(T.children[0].$focusItem.layout.$node.children[1].innerText=e.$curr.data.title,ne.config.byName=e.$curr.data.value,s())},"click:item":function(){O.hide(),T.focus()},keydown:function(e){switch(U.prototype.defaultEvents.keydown.call(this,e),e.code){case G.back:O.hide(),T.focus(),e.stop=!0;break;case G.f1:e.stop=!0}}}})]})),M=new F({parent:R,data:[{type:"info"},{type:"menu"}]}),M.show(),Z.tv.genre.getList(function(e,t){var i,n=[];if(!(e||!t||t.length<1)){for(n[0]={items:[{value:_("All categories"),className:"title"}],value:{id:!1,name:_("All categories")}},i=0;i<t.length;i++)n[i+1]={items:[{value:t[i].name,className:"title"}],value:t[i]};S.children[0].init({data:n,focusIndex:0})}}),I=new A({panels:[T=new q({title:_("Menu"),events:{focus:function(e){q.prototype.defaultEvents.focus.call(this,e),M.init([{type:"f1",title:_("Reset filters"),action:y}]),M.show()}},children:[E=new U({focusIndex:0,cycle:!0,data:[{items:[{className:"icon",value:"M"},k=new K({placeholder:_("Search"),events:{keydown:function(e){switch(K.prototype.defaultEvents.keydown.call(this,e),e.code){case G.back:e.stop=!0;break;case G.ok:this.parent.emit("click"),this.value.trim().length?ne.config.search!==this.value.trim()&&(ne.config.search=this.value.trim(),s()):ne.config.search&&ne.config.search.length&&(ne.config.search=!1,s())}}}})]},{items:[{className:"icon",value:"D"},{value:_("Favorite")}],click:function(e){ne.config.favorite?e.layout.$body.childNodes[0].innerText="D":e.layout.$body.childNodes[0].innerText="C",ne.config.favorite=!ne.config.favorite,s()}},{items:[{className:"icon",value:"J"},{value:_("All categories")}],click:function(){S.show(),T.blur()}},{items:[{className:"icon",value:"L"},{value:_("By number")}],click:function(){I.blur(),O.show()}},{items:[{className:"icon",value:"*"},{value:_("Exit")}],click:function(){I.blur(),V.exit(function(e){e?(b&&b.emit("exit"),Z.tv.statistics.stop()):I.focus()})}}]})]}),z=new q({title:_("Channel list"),main:!0,className:"channelPanel",events:{focus:function(e){q.prototype.defaultEvents.focus.call(this,e),M.init([{type:"f1",title:_("Record"),action:function(){c()}},{type:"f3",title:_("Favorite"),action:function(){R.toggleFavorite({id:N.$focusItem.data.value.id,$item:N.$focusItem,callback:function(){}})}}]),M.show()}}}),D=new q({title:_("Tv program"),children:[L=new U({size:7,className:"programList",fixedData:!0,cycle:!0,events:{keydown:function(e){switch(U.prototype.defaultEvents.keydown.call(this,e),e.code){case G.up:case G.down:clearTimeout(ne.epgFocusTimeout),ne.epgFocusTimeout=setTimeout(u,ae);break;case G.menu:p()}}}})],events:{focus:function(e){q.prototype.defaultEvents.focus.call(this,e),u()}}})]}),R.add(I),I.drawShadow(),z.add(N=new U({size:7,focusIndex:0,noData:"No channels",fixedData:!0,className:"channelList",events:{keydown:function(e){var t=this;if(!Q)switch(U.prototype.defaultEvents.keydown.call(this,e),e.code){case G.up:case G.down:if(clearTimeout(ne.epgTimeout),!t.$focusItem)return;ne.epgTimeout=setTimeout(function(){t.$focusItem&&Z.tv.getEpg({id:t.$focusItem.data.value.id},function(e,t){var i,n=new Date/1e3;for(clearInterval(ne.epgUpdateTimeout),m(e,t),ne.epgUpdateTimeout=setInterval(g,se),i=0;i<t.length;i++)t[i].start<n&&t[i].end>n&&i-3>0&&L.renderView(i-3)})},800);break;case G.menu:I.blur(),P.show();break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:l(String.fromCharCode(e.code))}},"click:item":function(e){e.$item.data.value===ne.current?ne.setChannel(ne.current,{context:null}):(ne.provider.instance=$(N.provider),ne.provider.focus=N.$focusItem.index,ne.setChannel(e.$item.data.value,{context:null,silent:!0}))},"data:error":function(e){}}})),R.add(P=new Y({title:_("Actions"),events:{show:function(){this.focus(),this.children[0].focus(),M.hide()},hide:function(){z.focus(),M.show()}},children:[new U({className:"actionsModal",size:2,cycle:!0,focusIndex:0,data:[{items:w("","Record","icon f1"),click:function(){c(),P.hide()}},{items:w("","Favorite","icon f3"),click:function(){R.toggleFavorite({id:N.$focusItem.data.value.id,$item:N.$focusItem,callback:function(){P.hide()}})}}],events:{keydown:function(e){switch(U.prototype.defaultEvents.keydown.call(this,e),e.code){case G.back:P.hide(),e.stop=!0}}}})]}),j=new Y({title:_("Actions"),events:{show:function(){this.focus(),this.children[0].focus(),M.hide()},hide:function(){L.focus(),M.show()}},children:[new U({data:[],size:1,cycle:!0,events:{keydown:function(e){switch(U.prototype.defaultEvents.keydown.call(this,e),e.code){case G.back:j.hide(),e.stop=!0}}}})]})),R.addListener("show",function(){z.focus()}),R.addListener("keydown",function(e){if(!Q)switch(e.code){case G.back:ne.setChannel(ne.current,{context:null});break;case G.exit:b.emit("exit"),Z.tv.statistics.stop(),V.minimized=!0;break;case G.web:V.minimized=!0}}),f(),ne.epgUpdateTimeout=setInterval(g,se),R.toggleFavorite=function(e){var t,i;i=e.$item.data.value,Z.tv.favorite.toggle({id:e.id,state:!i.favorite},function(s){if(!s){for(i.favorite=!i.favorite,N.renderItem(e.$item,n([i])[0]),t=0;t<N.provider.data.length;t++)if(N.provider.data[t].value.id===e.id){N.provider.data[t].value.favorite=i.favorite,N.data&&N.data[t]&&N.data[t].value&&(N.data[t].value.favorite=i.favorite),i.favorite?(N.provider.data[t].items[2].value="C",N.provider.data[t].items[2].className="icon theme-favorite-icon-active"):(N.provider.data[t].items[2].value="D",N.provider.data[t].items[2].className="icon theme-favorite-icon");break}e.callback&&e.callback()}})},e.exports=R},function(e,t,i){"use strict";function n(e){e=e||{},this.size=e.pageSize,this.stepSize=e.stepSize||1,this.data=[],this.head=0,this.tail=0,this.pos=e.pos||0,this.cacheSize=(e.cacheSize||2)*this.size,this.config=e.request||{},this.botEmptyLine=!1,this.maxCount=e.count||0,this.headItem=e.headItem,this.cycle=e.cycle,this.onCycle=e.onCycle,this.getter=e.getter,a=!1,o=0}var s=i(2),a=!1,o=0;n.prototype.constructor=n,n.prototype.get=function(e,t){var i=this,n=!1,r=[];switch(e){case null:a=!0,this.config.offset?(this.head=this.config.offset,this.config.limit=2*this.cacheSize):this.config.limit=this.cacheSize,this.getter(function(e,n,s){i.headItem&&!i.config.offset&&(n.unshift(i.headItem),o=1),e||(i.maxCount=s,i.data=n,i.tail=i.head+n.length,n.length<i.config.limit?i.botEmptyLine=!0:i.checkNext()),a=!1,r=i.data.slice(i.pos,i.pos+i.size),t(e,r)},this.config);break;case s.right:case s.down:if(a)break;this.pos+=this.stepSize,this.pos+this.size<this.data.length?(r=this.data.slice(this.pos,this.pos+this.size),t(n,r),this.checkNext()):this.checkNext(t);break;case s.pageDown:if(a)break;this.pos+=this.size-1,this.pos+this.size<this.data.length?(r=this.data.slice(this.pos,this.pos+this.size),t(n,r),this.checkNext()):this.checkNext(t);break;case s.left:case s.up:if(a)break;this.pos-=this.stepSize,this.pos>=0?(r=this.data.slice(this.pos,this.pos+this.size),t(n,r),this.checkPrev()):this.checkPrev(t);break;case s.pageUp:if(a)break;this.pos-=this.size-1,this.pos>0?(r=this.data.slice(this.pos,this.pos+this.size),t(n,r),this.checkPrev()):this.checkPrev(t);break;case s.home:if(a)break;this.onCycle&&this.onCycle({direction:s.up}),this.goHome(t);break;case s.end:if(a)break;this.goEnd(t)}},n.prototype.checkNext=function(e){var t=this.cacheSize+this.pos-this.data.length,i=this;if(this.botEmptyLine){if(this.pos>this.data.length-this.size){if(this.cycle)return this.onCycle&&this.onCycle({direction:s.up}),void this.goHome(e);this.pos=this.data.length-this.size,this.pos<0&&(this.pos=0)}return void(e&&e(!1,this.data.slice(this.pos,this.pos+this.size)))}if(t>=this.size){if(this.maxCount&&t+this.tail>this.maxCount&&(t=this.maxCount-this.tail,0>=t))return i.pos>i.data.length-i.size&&(i.pos=i.data.length-i.size,i.pos<0&&(i.pos=0)),e&&e(!1,i.data.slice(i.pos,i.pos+i.size)),void(this.botEmptyLine=!0);this.config.limit=t,this.config.offset=this.tail-o,e&&(a=!0),this.getter(function(n,s,o){n||(i.maxCount=o,s.length<t&&(i.botEmptyLine=!0),s.length&&(i.data=i.data.concat(s),t=i.data.length-2*i.cacheSize,i.tail+=s.length,t>0&&(i.data.splice(0,t),i.pos-=t,i.head+=t)),i.pos>i.data.length-i.size&&(i.pos=i.data.length-i.size,i.pos<0&&(i.pos=0))),e&&e(n,i.data.slice(i.pos,i.pos+i.size)),a=!1},this.config)}},n.prototype.checkPrev=function(e){var t=this.cacheSize-this.pos,i=this;if(this.head>0)t>=this.size&&(t>this.head&&(t=this.head),this.config.offset=this.head-t-o,this.config.offset<0&&(this.config.offset=0,t-=o),this.config.limit=t,e&&(a=!0),this.getter(function(n,s,o){n||(i.maxCount=o,i.data=s.concat(i.data),0===i.config.offset&&i.headItem&&i.data[0]!==i.headItem&&i.data.unshift(i.headItem),i.tail-=s.length,i.pos+=s.length,t=i.data.length-2*i.cacheSize,i.head-=t,t>0&&(i.data.splice(-t),i.botEmptyLine=!1)),e&&e(n,i.data.slice(i.pos,i.pos+i.size)),a=!1},this.config));else{if(this.headItem&&this.data[0]!==this.headItem&&this.data.unshift(this.headItem),this.pos<0){if(this.cycle)return void this.goEnd(e);this.pos=0}e&&e(!1,i.data.slice(i.pos,i.pos+i.size))}},n.prototype.goHome=function(e){var t=[],i=this;0===this.head?(this.pos=0,t=this.data.slice(this.pos,this.pos+this.size),e(!1,t,0)):(a=!0,this.pos=0,this.head=0,this.config.offset=0,this.config.limit=this.cacheSize,this.getter(function(n,s,o){n||(i.maxCount=o,i.data=s,i.headItem&&i.data[0]!==i.headItem&&i.data.unshift(i.headItem),i.tail=i.data.length,t=i.data.slice(i.pos,i.pos+i.size),a=!1,i.botEmptyLine=!1),e(n,t,0)},this.config))},n.prototype.goEnd=function(e){var t,i=[],n=this;this.maxCount?this.tail===this.maxCount?(n.pos=n.data.length-n.size,n.pos<0&&(n.pos=0),i=n.data.slice(n.pos,n.pos+n.size),t=i.length-1,0>t&&(t=0),n.botEmptyLine=!0,e(!1,i,t)):(a=!0,this.head=this.maxCount-2*this.cacheSize,this.head<0&&(this.head=0),this.tail=this.maxCount,this.config.offset=this.head,this.config.limit=2*this.cacheSize,this.getter(function(s,o,r){s||(n.maxCount=r,n.data=o,n.pos=n.data.length-n.size,n.pos<0&&(n.pos=0),i=n.data.slice(n.pos,n.pos+n.size),t=i.length-1,0>t&&(t=0),n.botEmptyLine=!0,a=!1),e(s,i,t)},this.config)):e(!0)},e.exports=n},function(e,t){"use strict";var i={};i.tag=function(e,t,i){var n,s,a=null;if(e){if(a=document.createElement(e),t&&"object"==typeof t)for(s in t)a[s]=t[s];for(n=2;n<arguments.length;n++)arguments[n]&&a.appendChild("object"==typeof arguments[n]?arguments[n]:document.createTextNode(arguments[n]))}return a},i.fragment=function(e){var t,i=document.createDocumentFragment();for(t=0;t<arguments.length;t++)e=arguments[t],e&&i.appendChild("object"==typeof e?e:document.createTextNode(e));return i},i.add=function(e,t){var i;if(e instanceof Node){for(i=1;i<arguments.length;i++)arguments[i]&&e.appendChild("object"==typeof arguments[i]?arguments[i]:document.createTextNode(arguments[i]));return e}return null},i.remove=function(e){var t,i=0;for(t=0;t<arguments.length;t++)arguments[t]&&arguments[t].parentNode&&arguments[t].parentNode.removeChild(arguments[t])===arguments[t]&&i++;return arguments.length>0&&i===arguments.length},e.exports=i},function(module,exports,__webpack_require__){"use strict";var Emitter=__webpack_require__(3),gettext=new Emitter,meta=null,data=null;gettext.load=function(e,t){var i=new XMLHttpRequest;e.ext=e.ext||"json",e.path=e.path||"lang",i.responseType="text",i.onload=function(){var e;try{e=JSON.parse(i.responseText),meta=e.meta,data=e.data,t(null,data)}catch(n){meta=null,data=null,i.onerror(n)}gettext.events.load&&gettext.emit("load")},i.onerror=function(e){t(e),gettext.events.error&&gettext.emit("error")},i.open("GET",e.path+"/"+e.name+"."+e.ext,!0),i.send(null)},window.gettext=function(e){return data&&data[""][e]?data[""][e]:e},window.pgettext=function(e,t){return data&&data[e][t]?data[e][t]:t},window.ngettext=function(msgId,plural,value){return data&&meta?data[""][msgId][eval("var n = "+value+"; "+meta.plural)]:1===value?msgId:plural},module.exports=gettext},function(e,t,i){"use strict";function n(e){s.call(this),this.data=e||{}}var s=i(3);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.idName="id",n.prototype.clear=function(){var e=this.data;return Object.keys(e).length>0?(this.data={},this.events.clear&&this.emit("clear",{data:e}),!0):!1},n.prototype.init=function(e){return e?(this.clear(),this.data=e,this.events.init&&this.emit("init",{data:e}),!0):!1},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){var i=e in this.data,n={name:e,curr:t};return i?(n.prev=this.data[e],t!==n.prev?(this.data[e]=t,this.events.change&&this.emit("change",n),!0):!1):(this.data[e]=t,this.events.change&&this.emit("change",n),!0)},n.prototype.unset=function(e){var t,i=e in this.data;return i?(t={name:e,prev:this.data[e]},delete this.data[e],this.events.change&&this.emit("change",t),!0):!1},e.exports=n},function(e,t){"use strict";var i={},n={method:"GET",async:!0,headers:{},type:"text",data:null,timeout:3e4,onload:null,onerror:null,ontimeout:null},s=Object.keys(n);i.ajax=function(e,t){var i,a,o;if(t=t||{},e&&("string"==typeof e||e instanceof String)&&e.length>0){if(t&&"object"==typeof t)for(i=0;i<s.length;i++)void 0===t[s[i]]&&(t[s[i]]=n[s[i]]);if(o=new XMLHttpRequest,o.open(t.method,e,t.async),t.headers&&"object"==typeof t.headers)for(a=Object.keys(t.headers),i=0;i<a.length;i++)o.setRequestHeader(a[i],t.headers[a[i]]);return o.responseType=t.type,o.timeout=t.timeout,t.onload&&"function"==typeof t.onload&&(o.onload=function(){t.onload.call(this,this.response||this.responseText,this.status)}),o.onerror=t.onerror,o.ontimeout=t.ontimeout,o.send(t.data?t.data:null),o}return!1},i.encode=function(e){var t,i,n=[];if(e&&"object"==typeof e){for(i=Object.keys(e),t=0;t<i.length;t++)n.push(encodeURIComponent(i[t])+"="+encodeURIComponent(e[i[t]]));if(n.length>0)return n.join("&")}return null},e.exports=i},function(e,t){"use strict";if(!("classList"in document.documentElement)){var i=Array.prototype,n=i.indexOf,s=i.slice,a=i.push,o=i.splice,r=i.join;window.DOMTokenList=function(e){if(this._element=e,e.className!==this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<i.length;t++)a.call(this,i[t])}},window.DOMTokenList.prototype={add:function(e){this.contains(e)||(a.call(this,e),this._element.className=s.call(this,0).join(" "))},contains:function(e){return-1!==n.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var t=n.call(this,e);-1!==t&&(o.call(this,t,1),this._element.className=s.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(e,t,i){"use strict";function n(e){e=e||{},e.className="checkBox "+(e.className||""),this.value=!!e.value,this.value&&(e.className+=" checked"),s.call(this,e),this.group=null,e.group&&(this.group=e.group,void 0===o[e.group]?o[e.group]=[this]:o[e.group].push(this))}var s=i(1),a=i(2),o={};n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.defaultEvents={click:function(){this.set(!this.value)},keydown:function(e){e.code===a.ok&&this.set(!this.value)}},n.prototype.set=function(e){var t,i;if(this.value!==e){if(!this.value&&null!==this.group)for(t=0,i=o[this.group].length;i>t;t++)o[this.group][t].set(!1);return this.value=!this.value,this.$node.classList.toggle("checked"),this.events.change&&this.emit("change",{value:this.value}),!0}return!1},e.exports=n},function(e,t,i){"use strict";function n(e){var t;e=e||{},e.focusable=!1,e.className="footer "+(e.className||""),e.visible=e.visible||!1,e.$body=document.createElement("div"),e.$body.className="body",s.call(this,e),this.tabs=[],this.tab=0,this.$node.appendChild(o.tag("table",{},o.tag("tr",{},o.tag("td",{},o.tag("div",{className:"icon menu"})),o.tag("td",{className:"central"},this.tabs[0]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"}))),this.tabs[1]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"}))),this.tabs[2]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"}))),this.tabs[3]=o.tag("div",{className:"wrapper hidden"},o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})),o.tag("div",{className:"button"},o.tag("div",{className:"iconImg"}),o.tag("div",{className:"title"})))),o.tag("td",{},this.$info=o.tag("div",{className:"icon info"}))))),this.init(e.data),t=this,this.parent.addListener("keydown",function(e){var i=t.tabs[t.tab];switch(e.code){case a.f1:i.f1&&"function"==typeof i.f1.action&&i.f1.action();break;case a.f2:i.f2&&"function"==typeof i.f2.action&&i.f2.action();break;case a.f3:i.f3&&"function"==typeof i.f3.action&&i.f3.action();break;case a.f4:i.f4&&"function"==typeof i.f4.action&&i.f4.action();break;case a.menu:i.menu&&"function"==typeof i.menu.action&&i.menu.action();break;case a.info:i.classList.contains("hidden")?i.classList.remove("hidden"):i.classList.add("hidden")}})}var s=i(1),a=(i(9),i(2)),o=i(14);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.init=function(e){var t,i=!this.tabs[this.tab].classList.contains("hidden"),n=0;for(e=e||[],this.tabs[this.tab].classList.add("hidden"),this.$info.classList.add("hidden"),e.forEach(function(e){-1!==["f1","f2","f3","f4"].indexOf(e.type)&&n++}),this.tab=0===n?0:n-1,n=0,t=0;t<e.length;t++)"info"!==e[t].type?(this.tabs[this.tab][e[t].type]={action:e[t].action},"menu"!==e[t].type&&(this.tabs[this.tab].children[n].children[0].className="iconImg "+e[t].type,this.tabs[this.tab].children[n].children[1].innerText=e[t].title,n++)):this.$info.classList.remove("hidden");i&&this.tabs[this.tab].classList.remove("hidden")},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.value="",this.type=this.TYPE_TEXT,e.className="input "+(e.className||""),e.maxlength=e.maxlength||0,this.autoKeyboard=!0,"undefined"!=typeof e.autoKeyboard&&(this.autoKeyboard=!!e.autoKeyboard),s.call(this,e),this.$line=this.$body.appendChild(document.createElement("div")),this.$line.className="line",this.$caret=this.$line.appendChild(document.createElement("div")),this.$caret.className="caret",this.$placeholder=this.$line.appendChild(document.createElement("div")),this.$placeholder.className="placeholder",this.$caret.index=0,this.init(e),this.autoKeyboard&&(this.addListener("focus",function(){var e=this.$node.getBoundingClientRect();screen.height/2>e.top+e.height?stbWindowMgr.SetVirtualKeyboardCoord("none",e.left,e.top+e.height):stbWindowMgr.SetVirtualKeyboardCoord("none",e.left,e.top-e.height/4-o.data.metrics.keyboardHeight),gSTB.ShowVirtualKeyboard()}),this.addListener("blur",function(){gSTB.IsVirtualKeyboardActive()&&gSTB.HideVirtualKeyboard()}))}var s=i(1),a=i(2),o=i(4);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.TYPE_TEXT=0,n.prototype.TYPE_PASSWORD=1,n.prototype.defaultEvents={keypress:function(e){this.addChar(String.fromCharCode(e.keyCode),this.$caret.index)},keydown:function(e){switch(e.code){case a["delete"]:this.removeChar(this.$caret.index);break;case a.back:this.removeChar(this.$caret.index-1);break;case a.left:this.setCaretPosition(this.$caret.index-1);break;case a.right:this.setCaretPosition(this.$caret.index+1);break;case a.end:case a.down:this.setCaretPosition(this.value.length);break;case a.home:case a.up:this.setCaretPosition(0)}}},n.prototype.init=function(e){e.type&&(this.type=e.type),e.value&&this.setValue(e.value),e.placeholder&&(this.$placeholder.innerText=e.placeholder),this.maxlength=e.maxlength,this.$line.dir=e.direction||"ltr"},n.prototype.addChar=function(e,t){var i=document.createElement("div");t=void 0===t?this.$caret.index:t,0===this.value.length&&this.$line.removeChild(this.$placeholder),(!this.maxlength||t<=this.maxlength)&&(i.className="char",this.value=this.value.substring(0,t)+e+this.value.substring(t,this.value.length),++this.$caret.index,this.type===this.TYPE_PASSWORD?i.innerText="*":" "===e?i.innerHTML="&nbsp;":i.innerText=e,t>=this.value.length?(this.$line.appendChild(i),this.$line.appendChild(this.$caret)):(this.$line.insertBefore(this.$caret,this.$line.children[t]),this.$line.insertBefore(i,this.$caret)),this.events.input&&this.emit("input",{value:this.value}))},n.prototype.removeChar=function(e){var t=this.value;e=void 0===e?this.$caret.index-1:e,this.value.length>0&&(this.$caret.index===e&&e<this.value.length?this.$line.removeChild(this.$line.children[e+1]):this.$caret.index>e&&(--this.$caret.index,this.$line.removeChild(this.$line.children[e])),this.value=this.value.substring(0,e)+this.value.substring(e+1,this.value.length),this.events.input&&t!==this.value&&this.emit("input",{value:this.value})),0===this.value.length&&this.$line.appendChild(this.$placeholder)},n.prototype.setCaretPosition=function(e){e>=0&&e<=this.value.length&&this.$caret.index!==e&&(this.$line.removeChild(this.$caret),e===this.value.length?this.$line.appendChild(this.$caret):this.$line.insertBefore(this.$caret,this.$line.children[e]),this.$caret.index=e)},n.prototype.setValue=function(e){var t,i,n=this.value.length,s=e.length,a=0;if(e!==this.value){if(s>0){if(this.$placeholder.parentNode===this.$line&&this.$line.removeChild(this.$placeholder),this.$line.removeChild(this.$caret),s!==n)if(i=s-n,i>0)for(a=0;i>a;a++)t=this.$line.appendChild(document.createElement("div")),t.className="char";else for(a=0;a>i;a--)this.$line.removeChild(this.$line.lastChild);for(a=0;s>a;a++)t=this.$line.children[a],this.type===this.TYPE_PASSWORD?t.innerHTML="*":" "===e[a]?t.innerHTML="&nbsp;":t.innerText=e[a];this.value=e,this.$caret.index=s,this.$line.appendChild(this.$caret)}else this.value="",this.$line.innerText="",this.$line.appendChild(this.$caret),this.$line.appendChild(this.$placeholder),this.$caret.index=0;this.events.input&&this.emit("input",{value:this.value})}},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.focusIndex=0,e.className="layout "+(e.className||""),this.data=[],a.call(this,e),this.init(e),this.addListener("keydown",function(e){switch(e.code){case o.right:this.children.length&&this.focusIndex<this.children.length-1&&this.children[++this.focusIndex].focus();break;case o.left:this.children.length&&this.focusIndex>0&&this.children[--this.focusIndex].focus();break;case o.back:this.parent.focus(),this.parent&&this.$parentItem&&this.parent.focusItem(this.$parentItem)}})}function s(e){var t,i;for(t=0;t<e.length;t++)i=e[t],"object"!=typeof i?e[t]={value:e[t],wrap:!0}:i instanceof a||i instanceof HTMLElement?e[t]={value:i,wrap:!1}:e[t].wrap=!0;return e}var a=i(1),o=i(2);n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.prototype.init=function(e){for(var t,i,n,o=this,r=s(e.data);this.$node.firstChild;)this.$node.removeChild(this.$node.firstChild);for(this.data=r,n=0;n<r.length;n++)t=r[n],"string"==typeof t.value?(i=document.createElement("div"),i.textContent=t.value,t.className&&(i.className=t.className),this.$node.appendChild(i)):t.value instanceof HTMLElement?t.wrap?(i=document.createElement("div"),t.className&&(i.className=t.className),i.appendChild(t.value),this.$node.appendChild(i)):this.$node.appendChild(t.value):t.value instanceof a&&(t.value.propagate=!0,t.value.index=this.children.length,t.value.addListener("click",function(){o.focusIndex=this.index}),t.wrap?(i=document.createElement("div"),t.className&&(i.className=t.className),i.appendChild(t.value.$node),this.$node.appendChild(i),this.children.push(t.value),t.value.parent=this):this.add(t.value))},e.exports=n},function(e,t,i){"use strict";function n(e){var t;e=e||{},this.size=1,this.main=!1,this.index=0,e.className="panelEx "+(e.className||""),e.$body=document.createElement("div"),e.$body.className="body",s.call(this,e),e.size&&(this.size=e.size,this.$node.classList.add("size"+e.size)),e.main&&(this.main=!0,this.$node.classList.add("main")),this.$shadow={left:document.createElement("div"),right:document.createElement("div")},this.$shadow.left.className="shadow left",this.$node.appendChild(this.$shadow.left),this.$shadow.right.className="shadow right",this.$node.appendChild(this.$shadow.right),e.title&&(this.$title=document.createElement("div"),this.$title.className="title",this.$title.innerText=e.title,this.$node.appendChild(this.$title)),this.$node.appendChild(this.$body),t=document.createElement("div"),t.className="overlay",this.$node.appendChild(t)}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.defaultEvents={focus:function(){this.children.length&&this.children[0].focus()}},n.prototype.focus=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),this.parent.panels[this.parent.focusIndex].$node.classList.remove("top"),s.prototype.focus.call(this),this.parent.focusIndex=this.index,this.$node.classList.add("active"),this.$node.classList.add("top"),0===this.index&&this.parent.panels[1]&&this.parent.panels[1].main?(this.parent.panels[1].$node.classList.remove("position-left"),this.parent.panels[1].$node.classList.add("position-right"),this.parent.panels[2]&&this.parent.panels[2].$node.classList.remove("expand"),this.$node.classList.add("expand")):2===this.index&&this.parent.panels[1].main&&(this.parent.panels[1].$node.classList.remove("position-right"),this.parent.panels[1].$node.classList.add("position-left"),this.parent.panels[0].$node.classList.remove("expand"),this.$node.classList.add("expand"))},n.prototype.blur=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),s.prototype.blur.call(this)},e.exports=n},function(e,t,i){"use strict";function n(e){function t(e){switch(e.code){case a.left:n.focusIndex>0&&n.panels[n.focusIndex-1].focus();break;case a.right:n.focusIndex<n.panels.length-1&&n.panels[n.focusIndex+1].focus()}}var i,n=this;for(e=e||{},e.focusable=e.focusable||!1,e.className="panelSet "+(e.className||""),s.call(this,e),this.panels=e.panels,this.focusIndex=0,e.panels&&!e.panels[0].main&&(e.panels[0].$node.classList.add("left"),e.panels[0].$node.classList.add("expand")),e.panels&&e.panels[1]&&e.panels[1].main&&e.panels[1].$node.classList.add("position-right"),e.panels&&e.panels[2]&&e.panels[1].main&&e.panels[2].$node.classList.add("right"),e.panels&&this.add.apply(this,e.panels),i=0;i<this.panels.length;i++)this.panels[i].addListeners({keydown:t}),this.panels[i].index=i}var s=i(1),a=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.drawShadow=function(){var e,t,i;for(e=0;e<this.panels.length;e++)e>0&&(this.panels[e].$node.classList.add("leftShadow"),t=this.panels[e-1].$node.offsetHeight,i=this.panels[e-1].$node.offsetTop-this.panels[e].$node.offsetTop,this.panels[e].$node.offsetHeight>t?(this.panels[e].$shadow.left.style.height=this.panels[e-1].$node.offsetHeight+"px",this.panels[e].$shadow.left.style.top=i+"px"):this.panels[e].$shadow.left.style.height=this.panels[e].$node.offsetHeight+"px"),e<this.panels.length-1&&(this.panels[e].$node.classList.add("rightShadow"),t=this.panels[e+1].$node.offsetHeight,i=this.panels[e+1].$node.offsetTop-this.panels[e].$node.offsetTop,this.panels[e].$node.offsetHeight>t?(this.panels[e].$shadow.right.style.height=this.panels[e-1].$node.offsetHeight+"px",this.panels[e].$shadow.right.style.top=i+"px"):this.panels[e].$shadow.right.style.height=this.panels[e].$node.offsetHeight+"px")},n.prototype.focus=function(){s.prototype.focus.call(this),this.panels[this.focusIndex].focus()},n.prototype.blur=function(){this.panels[this.focusIndex].blur()},e.exports=n},function(e,t,i){"use strict";function n(e){var t=this;this.group="group "+o++,this.$checkedData=null,e.className="radioList "+(e.className||""),s.call(this,e),this.addListener("click:item",function(e){var i=e.$item;i.checkBox.set(!0),i.state=i.checkBox.value,i.data.state=i.checkBox.value,t.$checkedData!==i.data&&(t.emit("select",{$last:t.$checkedData,$curr:i}),t.$checkedData.state=!1,t.$checkedData=i.data)})}var s=i(7),a=i(19),o=0;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.group=0,n.prototype.renderItemDefault=function(e,t){var i=document.createElement("table"),n=document.createElement("tr"),s=document.createElement("td"),o=new a({group:this.group});e.innerHTML="",t.state&&o.set(!0),i.appendChild(n),s.appendChild(o.$node),s.className="checkBoxWrapper",n.appendChild(s),s=document.createElement("td"),s.className="title",s.innerText=t.title||"",n.appendChild(s),e.checkBox=o,e.state=o.value,e.value=t.value,e.appendChild(i)},n.prototype.setData=function(e){var t;for(s.prototype.setData.call(this,e),t=0;t<this.data.length;t++)if(this.data[t].state){this.$checkedData=this.data[t];break}},n.prototype.renderItem=n.prototype.renderItemDefault,e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},e.focusable=e.focusable||!1,e.visible=e.visible||!1,e.className="widget "+(e.className||""),s.call(this,e)}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t){"use strict";e.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48,keyboardWidth:558,keyboardHeight:311},576:{height:576,width:720,availTop:24,availBottom:24,availRight:26,availLeft:54,keyboardWidth:558,keyboardHeight:311},720:{height:720,width:1280,availTop:30,availBottom:30,availRight:40,availLeft:40,keyboardWidth:818,keyboardHeight:311},1080:{height:1080,width:1920,availTop:45,availBottom:45,availRight:60,availLeft:60,keyboardWidth:1227,keyboardHeight:467}}}]);